const _0x2a544c=_0x3831;function _0x1bf0(){const _0x2211f3=['&fp=firefox&type=ws&host=','log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','text/plain;\x20charset=utf-8','/tunnel.yml\x20run','clear','platform','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/api/add-subscriptions','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Empowerment\x20failed\x20for\x20','\x22\x20>\x20/dev/null\x202>&1','basename','/api/delete-nodes','true','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','64iWKvnQ','filter','match','/vmess-argo?ed=2560','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','random','Unhandled\x20error\x20in\x20startserver:','NEZHA_PORT','apply','win32','--tls','pop','trojan','NEZHA_SERVER','/sub.txt\x20saved\x20successfully','freedom','https://arm64.ssss.nyc.mn/v1','test','split','?encryption=none&security=tls&sni=','floor','return\x20(function()\x20','exec','pkill\x20-f\x20\x22[','Download\x20','7b070631-8b8b-4ea6-8d8c-10fd575d517e','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','quic','ARGO_PORT','5994527uXstap','forEach','push','unlink','Add\x20automatic\x20access\x20task\x20faild:\x20','2083','exception','aarch64','env','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','del\x20/f\x20/q\x20','https://amd64.ssss.nyc.mn/agent','4431384EiPxJB','arm','existsSync','https://amd64.ssss.nyc.mn/v1','ARGO_AUTH','Error\x20downloading\x20files:','443','then','/config.json\x20>/dev/null\x202>&1\x20&','\x0avless://','UPLOAD_URL','https://arm64.ssss.nyc.mn/agent','vmess','join','FILE_PATH','fileName','direct','config.json','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20is\x20running','1998772IPjEhE','from','\x0a\x20\x20credentials-file:\x20','mkdirSync','tls','NAME','includes','\x20successfully','toString','search','\x0a\x20\x20\x0avmess://','fileUrl','Hello\x20world!','/api/add-nodes','\x0a\x20\x20tunnel:\x20','abcdefghijklmnopqrstuvwxyz','prototype','nohup\x20','https://oooo.serv00.net/add-url','/vless-argo','PORT','web\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20>/dev/null\x202>&1\x20&','createWriteStream','data','Nodes\x20uploaded\x20successfully','axios','error','unshift','8443','{}.constructor(\x22return\x20this\x22)(\x20)','(((.+)+)+)+$','https://amd64.ssss.nyc.mn/web','response','\x20>/dev/null\x202>&1','\x20failed:\x20','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/web','Error\x20executing\x20command:\x20','PROJECT_URL','https+local://8.8.8.8/dns-query','ARGO_DOMAIN:','stringify','2096','arch','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','console','tcp','vless','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NEZHA_KEY','14155mXSKDz','warn','message','status','CFPORT','false','post','readFileSync','http','\x0a\x20\x20\x0atrojan://','catch','&path=%2Fvless-argo%3Fed%3D2560#','constructor','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2053','2HQkCAi','\x0a\x20\x20\x20\x20','train','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','get','taskkill\x20/f\x20/im\x20','trace','sub.txt','\x20-c\x20','unlinkSync','writeFileSync','pipe','none','substring','Empowerment\x20success\x20for\x20','base64','TunnelSecret','send','child_process','config.yaml','127.0.0.1','express','charAt','boot.log','1991988tyyCDi','cdns.doon.eu.org','utf-8','/trojan-argo','length','application/json','tunnel.json','App\x20is\x20running','./tmp','ARGO_DOMAIN','bind','npm\x20running\x20error:\x20','amd','Error\x20reading\x20boot.log:','block','\x20-c\x20\x22','4425475DHeDVT','zyr','694182HmYogE','table','finish','http\x20server\x20is\x20running\x20on\x20port:','Error\x20in\x20startserver:','xtls-rprx-vision','CFIP','all','2087','AUTO_ACCESS','/dev/null'];_0x1bf0=function(){return _0x2211f3;};return _0x1bf0();}(function(_0x2d6550,_0x5ca7c1){const _0x4b4498=_0x3831,_0x3486e8=_0x2d6550();while(!![]){try{const _0x58eebb=parseInt(_0x4b4498(0x1ec))/0x1+-parseInt(_0x4b4498(0x1fb))/0x2*(-parseInt(_0x4b4498(0x15f))/0x3)+-parseInt(_0x4b4498(0x1b8))/0x4+parseInt(_0x4b4498(0x15d))/0x5+parseInt(_0x4b4498(0x1a4))/0x6+parseInt(_0x4b4498(0x198))/0x7+-parseInt(_0x4b4498(0x17a))/0x8*(parseInt(_0x4b4498(0x14d))/0x9);if(_0x58eebb===_0x5ca7c1)break;else _0x3486e8['push'](_0x3486e8['shift']());}catch(_0x571f03){_0x3486e8['push'](_0x3486e8['shift']());}}}(_0x1bf0,0x6f234));const _0x1f912e=(function(){let _0x5d2a7e=!![];return function(_0x8343b9,_0x50946e){const _0xae999f=_0x5d2a7e?function(){if(_0x50946e){const _0x4f4463=_0x50946e['apply'](_0x8343b9,arguments);return _0x50946e=null,_0x4f4463;}}:function(){};return _0x5d2a7e=![],_0xae999f;};}()),_0x4b4d90=_0x1f912e(this,function(){const _0x4e4cf2=_0x3831;return _0x4b4d90[_0x4e4cf2(0x1c0)]()[_0x4e4cf2(0x1c1)](_0x4e4cf2(0x1d8))[_0x4e4cf2(0x1c0)]()['constructor'](_0x4b4d90)[_0x4e4cf2(0x1c1)](_0x4e4cf2(0x1d8));});_0x4b4d90();const _0x394e73=(function(){let _0x50fa0b=!![];return function(_0x46a40b,_0x57c4a0){const _0x192499=_0x50fa0b?function(){const _0x2cf235=_0x3831;if(_0x57c4a0){const _0x5b3637=_0x57c4a0[_0x2cf235(0x182)](_0x46a40b,arguments);return _0x57c4a0=null,_0x5b3637;}}:function(){};return _0x50fa0b=![],_0x192499;};}()),_0x4e811e=_0x394e73(this,function(){const _0x49fb9f=_0x3831;let _0x2f6d78;try{const _0x1e8d03=Function(_0x49fb9f(0x18f)+_0x49fb9f(0x1d7)+');');_0x2f6d78=_0x1e8d03();}catch(_0x4fdf33){_0x2f6d78=window;}const _0x5ac34e=_0x2f6d78[_0x49fb9f(0x1e7)]=_0x2f6d78[_0x49fb9f(0x1e7)]||{},_0x12c13c=[_0x49fb9f(0x16b),_0x49fb9f(0x1ed),'info',_0x49fb9f(0x1d4),_0x49fb9f(0x19e),_0x49fb9f(0x160),_0x49fb9f(0x201)];for(let _0x527793=0x0;_0x527793<_0x12c13c[_0x49fb9f(0x151)];_0x527793++){const _0x25dd2b=_0x394e73[_0x49fb9f(0x1f8)][_0x49fb9f(0x1c8)][_0x49fb9f(0x157)](_0x394e73),_0x12b3f7=_0x12c13c[_0x527793],_0x477df6=_0x5ac34e[_0x12b3f7]||_0x25dd2b;_0x25dd2b['__proto__']=_0x394e73['bind'](_0x394e73),_0x25dd2b[_0x49fb9f(0x1c0)]=_0x477df6[_0x49fb9f(0x1c0)][_0x49fb9f(0x157)](_0x477df6),_0x5ac34e[_0x12b3f7]=_0x25dd2b;}});_0x4e811e();const express=require(_0x2a544c(0x210)),app=express(),axios=require(_0x2a544c(0x1d3)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x2a544c(0x20d))[_0x2a544c(0x190)]),{execSync}=require(_0x2a544c(0x20d)),UPLOAD_URL=process[_0x2a544c(0x1a0)][_0x2a544c(0x1ae)]||'',PROJECT_URL=process[_0x2a544c(0x1a0)][_0x2a544c(0x1e0)]||'',AUTO_ACCESS=process[_0x2a544c(0x1a0)][_0x2a544c(0x168)]||![],FILE_PATH=process[_0x2a544c(0x1a0)][_0x2a544c(0x1b2)]||_0x2a544c(0x155),SUB_PATH=process[_0x2a544c(0x1a0)]['SUB_PATH']||_0x2a544c(0x15e),PORT=process[_0x2a544c(0x1a0)]['SERVER_PORT']||process['env'][_0x2a544c(0x1cc)]||0xbb8,UUID=process[_0x2a544c(0x1a0)]['UUID']||_0x2a544c(0x193),NEZHA_SERVER=process[_0x2a544c(0x1a0)][_0x2a544c(0x187)]||'',NEZHA_PORT=process[_0x2a544c(0x1a0)][_0x2a544c(0x181)]||'',NEZHA_KEY=process[_0x2a544c(0x1a0)][_0x2a544c(0x1eb)]||'',ARGO_DOMAIN=process[_0x2a544c(0x1a0)][_0x2a544c(0x156)]||'',ARGO_AUTH=process[_0x2a544c(0x1a0)][_0x2a544c(0x1a8)]||'',ARGO_PORT=process['env'][_0x2a544c(0x197)]||0x1f41,CFIP=process['env'][_0x2a544c(0x165)]||_0x2a544c(0x14e),CFPORT=process[_0x2a544c(0x1a0)][_0x2a544c(0x1f0)]||0x1bb,NAME=process[_0x2a544c(0x1a0)][_0x2a544c(0x1bd)]||_0x2a544c(0x1fd);function _0x3831(_0x1f0139,_0x108e2d){const _0x364651=_0x1bf0();return _0x3831=function(_0x4e811e,_0x394e73){_0x4e811e=_0x4e811e-0x14d;let _0x29abb1=_0x364651[_0x4e811e];return _0x29abb1;},_0x3831(_0x1f0139,_0x108e2d);}!fs['existsSync'](FILE_PATH)?(fs[_0x2a544c(0x1bb)](FILE_PATH),console[_0x2a544c(0x16b)](FILE_PATH+'\x20is\x20created')):console[_0x2a544c(0x16b)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3fee8b=_0x2a544c,_0x57cfe7=_0x3fee8b(0x1c7);let _0x20dc34='';for(let _0x5ade8a=0x0;_0x5ade8a<0x6;_0x5ade8a++){_0x20dc34+=_0x57cfe7['charAt'](Math[_0x3fee8b(0x18e)](Math[_0x3fee8b(0x17f)]()*_0x57cfe7[_0x3fee8b(0x151)]));}return _0x20dc34;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a544c(0x1b1)](FILE_PATH,npmName),phpPath=path[_0x2a544c(0x1b1)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x2a544c(0x1b1)](FILE_PATH,botName),subPath=path[_0x2a544c(0x1b1)](FILE_PATH,_0x2a544c(0x202)),listPath=path[_0x2a544c(0x1b1)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x2a544c(0x212)),configPath=path[_0x2a544c(0x1b1)](FILE_PATH,_0x2a544c(0x1b5));function deleteNodes(){const _0x617fc=_0x2a544c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x15972f;try{_0x15972f=fs[_0x617fc(0x1f3)](subPath,_0x617fc(0x14f));}catch{return null;}const _0x53e7e3=Buffer[_0x617fc(0x1b9)](_0x15972f,_0x617fc(0x20a))[_0x617fc(0x1c0)](_0x617fc(0x14f)),_0x47667f=_0x53e7e3['split']('\x0a')[_0x617fc(0x17b)](_0x2ac57e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x617fc(0x18b)](_0x2ac57e));if(_0x47667f[_0x617fc(0x151)]===0x0)return;return axios[_0x617fc(0x1f2)](UPLOAD_URL+_0x617fc(0x177),JSON[_0x617fc(0x1e3)]({'nodes':_0x47667f}),{'headers':{'Content-Type':_0x617fc(0x152)}})[_0x617fc(0x1f6)](_0x363f4a=>{return null;}),null;}catch(_0xed614a){return null;}}function cleanupOldFiles(){const _0x2310bd=_0x2a544c;try{const _0x5e86cc=fs['readdirSync'](FILE_PATH);_0x5e86cc[_0x2310bd(0x199)](_0x4ea8f7=>{const _0xa2a280=_0x2310bd,_0xb80a8f=path['join'](FILE_PATH,_0x4ea8f7);try{const _0x13088a=fs['statSync'](_0xb80a8f);_0x13088a['isFile']()&&fs[_0xa2a280(0x204)](_0xb80a8f);}catch(_0x4e23f3){}});}catch(_0x5dcee7){}}app[_0x2a544c(0x1ff)]('/',function(_0x2d8bce,_0x5c4a9c){const _0x19317d=_0x2a544c;_0x5c4a9c[_0x19317d(0x20c)](_0x19317d(0x1c4));});async function generateConfig(){const _0x1147af=_0x2a544c,_0x246f83={'log':{'access':'/dev/null','error':_0x1147af(0x169),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1147af(0x1e9),'settings':{'clients':[{'id':UUID,'flow':_0x1147af(0x164)}],'decryption':_0x1147af(0x207),'fallbacks':[{'dest':0xbb9},{'path':_0x1147af(0x1cb),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1147af(0x150),'dest':0xbbc}]},'streamSettings':{'network':_0x1147af(0x1e8)}},{'port':0xbb9,'listen':_0x1147af(0x20f),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1147af(0x1e8),'security':_0x1147af(0x207)}},{'port':0xbba,'listen':_0x1147af(0x20f),'protocol':_0x1147af(0x1e9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1147af(0x207)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1147af(0x1f4),_0x1147af(0x1bc),_0x1147af(0x196)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1147af(0x20f),'protocol':_0x1147af(0x1b0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1147af(0x1bc),_0x1147af(0x196)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1147af(0x20f),'protocol':_0x1147af(0x186),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1147af(0x207),'wsSettings':{'path':_0x1147af(0x150)}},'sniffing':{'enabled':!![],'destOverride':[_0x1147af(0x1f4),_0x1147af(0x1bc),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1147af(0x1e1)]},'outbounds':[{'protocol':_0x1147af(0x189),'tag':_0x1147af(0x1b4)},{'protocol':'blackhole','tag':_0x1147af(0x15b)}]};fs[_0x1147af(0x205)](path['join'](FILE_PATH,'config.json'),JSON[_0x1147af(0x1e3)](_0x246f83,null,0x2));}function getSystemArchitecture(){const _0x54b140=_0x2a544c,_0x347b58=os[_0x54b140(0x1e5)]();return _0x347b58===_0x54b140(0x1a5)||_0x347b58==='arm64'||_0x347b58===_0x54b140(0x19f)?_0x54b140(0x1a5):_0x54b140(0x159);}function downloadFile(_0x299a0c,_0x4c5314,_0x2678fa){const _0x1ce020=_0x2a544c,_0xbc2fab=_0x299a0c;!fs[_0x1ce020(0x1a6)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2652eb=fs[_0x1ce020(0x1d0)](_0xbc2fab);axios({'method':'get','url':_0x4c5314,'responseType':'stream'})[_0x1ce020(0x1ab)](_0x53e24c=>{const _0x442518=_0x1ce020;_0x53e24c[_0x442518(0x1d1)][_0x442518(0x206)](_0x2652eb),_0x2652eb['on'](_0x442518(0x161),()=>{const _0x2cefb2=_0x442518;_0x2652eb['close'](),console['log'](_0x2cefb2(0x192)+path['basename'](_0xbc2fab)+_0x2cefb2(0x1bf)),_0x2678fa(null,_0xbc2fab);}),_0x2652eb['on'](_0x442518(0x1d4),_0x43b097=>{const _0x241c27=_0x442518;fs[_0x241c27(0x19b)](_0xbc2fab,()=>{});const _0x15d844=_0x241c27(0x192)+path[_0x241c27(0x176)](_0xbc2fab)+_0x241c27(0x1dc)+_0x43b097['message'];console[_0x241c27(0x1d4)](_0x15d844),_0x2678fa(_0x15d844);});})[_0x1ce020(0x1f6)](_0x2f5d7e=>{const _0x384cf1=_0x1ce020,_0x4ccd81=_0x384cf1(0x192)+path[_0x384cf1(0x176)](_0xbc2fab)+_0x384cf1(0x1dc)+_0x2f5d7e[_0x384cf1(0x1ee)];console[_0x384cf1(0x1d4)](_0x4ccd81),_0x2678fa(_0x4ccd81);});}async function downloadFilesAndRun(){const _0x40ebc2=_0x2a544c,_0x4e8623=getSystemArchitecture(),_0x35b04a=getFilesForArchitecture(_0x4e8623);if(_0x35b04a[_0x40ebc2(0x151)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x4e8fcb=_0x35b04a['map'](_0x1a6e36=>{return new Promise((_0x3a919d,_0x445831)=>{const _0x5d2f39=_0x3831;downloadFile(_0x1a6e36[_0x5d2f39(0x1b3)],_0x1a6e36[_0x5d2f39(0x1c3)],(_0x399f20,_0x53ad07)=>{_0x399f20?_0x445831(_0x399f20):_0x3a919d(_0x53ad07);});});});try{await Promise[_0x40ebc2(0x166)](_0x4e8fcb);}catch(_0x59c1dc){console['error'](_0x40ebc2(0x1a9),_0x59c1dc);return;}function _0x1896fc(_0x4060a1){const _0x352bd3=_0x40ebc2,_0x51d2f2=0x1fd;_0x4060a1[_0x352bd3(0x199)](_0x3a6f68=>{const _0x45bf10=_0x352bd3;fs[_0x45bf10(0x1a6)](_0x3a6f68)&&fs['chmod'](_0x3a6f68,_0x51d2f2,_0x315610=>{const _0x1f4e4a=_0x45bf10;_0x315610?console['error'](_0x1f4e4a(0x174)+_0x3a6f68+':\x20'+_0x315610):console[_0x1f4e4a(0x16b)](_0x1f4e4a(0x209)+_0x3a6f68+':\x20'+_0x51d2f2[_0x1f4e4a(0x1c0)](0x8));});});}const _0x65732a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1896fc(_0x65732a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5826dc=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x40ebc2(0x185)]():'',_0x43b34d=new Set([_0x40ebc2(0x1aa),'8443',_0x40ebc2(0x1e4),_0x40ebc2(0x167),_0x40ebc2(0x19d),_0x40ebc2(0x1fa)]),_0x50b54e=_0x43b34d['has'](_0x5826dc)?_0x40ebc2(0x178):_0x40ebc2(0x1f1),_0x502569='\x0aclient_secret:\x20'+NEZHA_KEY+_0x40ebc2(0x1fe)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x50b54e+_0x40ebc2(0x1f9)+UUID;fs[_0x40ebc2(0x205)](path[_0x40ebc2(0x1b1)](FILE_PATH,_0x40ebc2(0x20e)),_0x502569);const _0x4793a0='nohup\x20'+phpPath+_0x40ebc2(0x15c)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4793a0),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x58485b=>setTimeout(_0x58485b,0x3e8));}catch(_0x163080){console[_0x40ebc2(0x1d4)]('php\x20running\x20error:\x20'+_0x163080);}}else{let _0x5a3dc4='';const _0x47bf86=[_0x40ebc2(0x1aa),_0x40ebc2(0x1d6),'2096',_0x40ebc2(0x167),_0x40ebc2(0x19d),'2053'];_0x47bf86[_0x40ebc2(0x1be)](NEZHA_PORT)&&(_0x5a3dc4=_0x40ebc2(0x184));const _0x373b09=_0x40ebc2(0x1c9)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5a3dc4+_0x40ebc2(0x16c);try{await exec(_0x373b09),console[_0x40ebc2(0x16b)](npmName+_0x40ebc2(0x1b7)),await new Promise(_0x3b6aa7=>setTimeout(_0x3b6aa7,0x3e8));}catch(_0x4d78d8){console[_0x40ebc2(0x1d4)](_0x40ebc2(0x158)+_0x4d78d8);}}}else console['log'](_0x40ebc2(0x1b6));const _0x595f2a=_0x40ebc2(0x1c9)+webPath+_0x40ebc2(0x203)+FILE_PATH+_0x40ebc2(0x1ac);try{await exec(_0x595f2a),console[_0x40ebc2(0x16b)](webName+_0x40ebc2(0x1b7)),await new Promise(_0x2816d3=>setTimeout(_0x2816d3,0x3e8));}catch(_0x4d95a2){console[_0x40ebc2(0x1d4)](_0x40ebc2(0x1cd)+_0x4d95a2);}if(fs[_0x40ebc2(0x1a6)](botPath)){let _0x171aba;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x171aba=_0x40ebc2(0x173)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x171aba='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x40ebc2(0x16e):_0x171aba='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x40ebc2(0x1ea)+ARGO_PORT;try{await exec(_0x40ebc2(0x1c9)+botPath+'\x20'+_0x171aba+_0x40ebc2(0x1cf)),console[_0x40ebc2(0x16b)](botName+_0x40ebc2(0x1b7)),await new Promise(_0x42ee18=>setTimeout(_0x42ee18,0x7d0));}catch(_0x31387e){console['error'](_0x40ebc2(0x1df)+_0x31387e);}}await new Promise(_0x23d753=>setTimeout(_0x23d753,0x1388));}function getFilesForArchitecture(_0x48ecfd){const _0x4bc3c4=_0x2a544c;let _0x7259e9;_0x48ecfd===_0x4bc3c4(0x1a5)?_0x7259e9=[{'fileName':webPath,'fileUrl':_0x4bc3c4(0x1de)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x7259e9=[{'fileName':webPath,'fileUrl':_0x4bc3c4(0x1d9)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3dcc83=_0x48ecfd==='arm'?_0x4bc3c4(0x1af):_0x4bc3c4(0x1a3);_0x7259e9['unshift']({'fileName':npmPath,'fileUrl':_0x3dcc83});}else{const _0x296509=_0x48ecfd===_0x4bc3c4(0x1a5)?_0x4bc3c4(0x18a):_0x4bc3c4(0x1a7);_0x7259e9[_0x4bc3c4(0x1d5)]({'fileName':phpPath,'fileUrl':_0x296509});}}return _0x7259e9;}function argoType(){const _0x2ac1c2=_0x2a544c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2ac1c2(0x16b)](_0x2ac1c2(0x194));return;}if(ARGO_AUTH[_0x2ac1c2(0x1be)](_0x2ac1c2(0x20b))){fs['writeFileSync'](path['join'](FILE_PATH,_0x2ac1c2(0x153)),ARGO_AUTH);const _0x414a02=_0x2ac1c2(0x1c6)+ARGO_AUTH[_0x2ac1c2(0x18c)]('\x22')[0xb]+_0x2ac1c2(0x1ba)+path[_0x2ac1c2(0x1b1)](FILE_PATH,_0x2ac1c2(0x153))+_0x2ac1c2(0x1ce)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2ac1c2(0x195);fs[_0x2ac1c2(0x205)](path['join'](FILE_PATH,'tunnel.yml'),_0x414a02);}else console[_0x2ac1c2(0x16b)](_0x2ac1c2(0x171));}argoType();async function extractDomains(){const _0x217019=_0x2a544c;let _0x190099;if(ARGO_AUTH&&ARGO_DOMAIN)_0x190099=ARGO_DOMAIN,console['log'](_0x217019(0x1e2),_0x190099),await _0x55ece5(_0x190099);else try{const _0x48db7f=fs['readFileSync'](path[_0x217019(0x1b1)](FILE_PATH,_0x217019(0x212)),_0x217019(0x14f)),_0x34beb4=_0x48db7f[_0x217019(0x18c)]('\x0a'),_0x2ccb12=[];_0x34beb4[_0x217019(0x199)](_0x16bfaf=>{const _0x3c8e43=_0x217019,_0x555bf6=_0x16bfaf[_0x3c8e43(0x17c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x555bf6){const _0x31c028=_0x555bf6[0x1];_0x2ccb12['push'](_0x31c028);}});if(_0x2ccb12[_0x217019(0x151)]>0x0)_0x190099=_0x2ccb12[0x0],console[_0x217019(0x16b)]('ArgoDomain:',_0x190099),await _0x55ece5(_0x190099);else{console['log'](_0x217019(0x1a1)),fs[_0x217019(0x204)](path['join'](FILE_PATH,_0x217019(0x212)));async function _0x33ad77(){const _0x4e2d7b=_0x217019;try{process[_0x4e2d7b(0x170)]==='win32'?await exec(_0x4e2d7b(0x200)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4e2d7b(0x191)+botName[_0x4e2d7b(0x211)](0x0)+']'+botName[_0x4e2d7b(0x208)](0x1)+_0x4e2d7b(0x175));}catch(_0x4834af){}}_0x33ad77(),await new Promise(_0x5accec=>setTimeout(_0x5accec,0xbb8));const _0x1ba1b8=_0x217019(0x179)+FILE_PATH+_0x217019(0x1ea)+ARGO_PORT;try{await exec(_0x217019(0x1c9)+botPath+'\x20'+_0x1ba1b8+_0x217019(0x1cf)),console[_0x217019(0x16b)](botName+_0x217019(0x1b7)),await new Promise(_0x21a95d=>setTimeout(_0x21a95d,0xbb8)),await extractDomains();}catch(_0x2715cc){console['error']('Error\x20executing\x20command:\x20'+_0x2715cc);}}}catch(_0x438738){console[_0x217019(0x1d4)](_0x217019(0x15a),_0x438738);}async function _0x55ece5(_0x23b406){const _0x17faac=_0x217019,_0x335bbe=execSync(_0x17faac(0x1e6),{'encoding':_0x17faac(0x14f)}),_0x18c38a=_0x335bbe['trim'](),_0x24f2ec=NAME?NAME+'-'+_0x18c38a:_0x18c38a;return new Promise(_0x18a179=>{setTimeout(()=>{const _0x2ac4d6=_0x3831,_0x55b8cc={'v':'2','ps':''+_0x24f2ec,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x2ac4d6(0x207),'host':_0x23b406,'path':_0x2ac4d6(0x17d),'tls':'tls','sni':_0x23b406,'alpn':'','fp':'firefox'},_0x4e78ac=_0x2ac4d6(0x1ad)+UUID+'@'+CFIP+':'+CFPORT+_0x2ac4d6(0x18d)+_0x23b406+_0x2ac4d6(0x16a)+_0x23b406+_0x2ac4d6(0x1f7)+_0x24f2ec+_0x2ac4d6(0x1c2)+Buffer['from'](JSON['stringify'](_0x55b8cc))[_0x2ac4d6(0x1c0)](_0x2ac4d6(0x20a))+_0x2ac4d6(0x1f5)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x23b406+_0x2ac4d6(0x16a)+_0x23b406+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x24f2ec+_0x2ac4d6(0x1fc);console[_0x2ac4d6(0x16b)](Buffer['from'](_0x4e78ac)[_0x2ac4d6(0x1c0)](_0x2ac4d6(0x20a))),fs[_0x2ac4d6(0x205)](subPath,Buffer[_0x2ac4d6(0x1b9)](_0x4e78ac)[_0x2ac4d6(0x1c0)](_0x2ac4d6(0x20a))),console[_0x2ac4d6(0x16b)](FILE_PATH+_0x2ac4d6(0x188)),uploadNodes(),app[_0x2ac4d6(0x1ff)]('/'+SUB_PATH,(_0x38714b,_0x36e5ce)=>{const _0x1be823=_0x2ac4d6,_0x5649bf=Buffer[_0x1be823(0x1b9)](_0x4e78ac)[_0x1be823(0x1c0)](_0x1be823(0x20a));_0x36e5ce['set']('Content-Type',_0x1be823(0x16d)),_0x36e5ce['send'](_0x5649bf);}),_0x18a179(_0x4e78ac);},0x7d0);});}}async function uploadNodes(){const _0x1b0b60=_0x2a544c;if(UPLOAD_URL&&PROJECT_URL){const _0x4bf967=PROJECT_URL+'/'+SUB_PATH,_0x1e4b27={'subscription':[_0x4bf967]};try{const _0x27cc04=await axios[_0x1b0b60(0x1f2)](UPLOAD_URL+_0x1b0b60(0x172),_0x1e4b27,{'headers':{'Content-Type':_0x1b0b60(0x152)}});return _0x27cc04&&_0x27cc04['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x27cc04):null;}catch(_0x5b5151){if(_0x5b5151[_0x1b0b60(0x1da)]){if(_0x5b5151[_0x1b0b60(0x1da)][_0x1b0b60(0x1ef)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1b0b60(0x1a6)](listPath))return;const _0x164dc1=fs[_0x1b0b60(0x1f3)](listPath,_0x1b0b60(0x14f)),_0x5a8938=_0x164dc1['split']('\x0a')[_0x1b0b60(0x17b)](_0x37831c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1b0b60(0x18b)](_0x37831c));if(_0x5a8938[_0x1b0b60(0x151)]===0x0)return;const _0x2f5741=JSON['stringify']({'nodes':_0x5a8938});try{const _0x516153=await axios['post'](UPLOAD_URL+_0x1b0b60(0x1c5),_0x2f5741,{'headers':{'Content-Type':_0x1b0b60(0x152)}});return _0x516153&&_0x516153[_0x1b0b60(0x1ef)]===0xc8?(console[_0x1b0b60(0x16b)](_0x1b0b60(0x1d2)),_0x516153):null;}catch(_0x1deda4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x358289=_0x3831,_0x4cf0ef=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4cf0ef[_0x358289(0x19a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4cf0ef[_0x358289(0x19a)](phpPath);process[_0x358289(0x170)]===_0x358289(0x183)?exec(_0x358289(0x1a2)+_0x4cf0ef['join']('\x20')+'\x20>\x20nul\x202>&1',_0x5d0d61=>{const _0xcb53ad=_0x358289;console[_0xcb53ad(0x16f)](),console['log']('App\x20is\x20running'),console[_0xcb53ad(0x16b)](_0xcb53ad(0x17e));}):exec(_0x358289(0x1dd)+_0x4cf0ef[_0x358289(0x1b1)]('\x20')+_0x358289(0x1db),_0x1ef80b=>{const _0x32b85d=_0x358289;console[_0x32b85d(0x16f)](),console[_0x32b85d(0x16b)](_0x32b85d(0x154)),console[_0x32b85d(0x16b)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d0478=_0x2a544c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5d0478(0x16b)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2e2a97=await axios['post'](_0x5d0478(0x1ca),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5d0478(0x152)}});return console[_0x5d0478(0x16b)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2e2a97;}catch(_0xb7afe1){return console[_0x5d0478(0x1d4)](_0x5d0478(0x19c)+_0xb7afe1[_0x5d0478(0x1ee)]),null;}}async function startserver(){const _0x5b2961=_0x2a544c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5ed530){console['error'](_0x5b2961(0x163),_0x5ed530);}}startserver()[_0x2a544c(0x1f6)](_0x1ada80=>{const _0x1500c3=_0x2a544c;console[_0x1500c3(0x1d4)](_0x1500c3(0x180),_0x1ada80);}),app['listen'](PORT,()=>console['log'](_0x2a544c(0x162)+PORT+'!'));
